!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.output=t.input=void 0;var r=document.getElementById("input");t.input=r;var i=document.getElementById("output");t.output=i},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){(function(t){!function(t){"use strict";var n={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:d,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:d,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:d,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n?(?!hr|heading|lheading| {0,3}>|tag)[^\n]+)+)/,text:/^[^\n]+/};function r(e){this.tokens=[],this.tokens.links={},this.options=e||x.defaults,this.rules=n.normal,this.options.gfm&&(this.options.tables?this.rules=n.tables:this.rules=n.gfm)}n._label=/(?:\\[\[\]]|[^\[\]])+/,n._title=/(?:"(?:\\"|[^"]|"[^"\n]*")*"|'\n?(?:[^'\n]+\n?)*'|\([^()]*\))/,n.def=u(n.def).replace("label",n._label).replace("title",n._title).getRegex(),n.bullet=/(?:[*+-]|\d+\.)/,n.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,n.item=u(n.item,"gm").replace(/bull/g,n.bullet).getRegex(),n.list=u(n.list).replace(/bull/g,n.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+n.def.source+")").getRegex(),n._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b",n.html=u(n.html).replace("comment",/<!--[\s\S]*?-->/).replace("closed",/<(tag)[\s\S]+?<\/\1>/).replace("closing",/<tag(?:"[^"]*"|'[^']*'|\s[^'"\/>\s]*)*?\/?>/).replace(/tag/g,n._tag).getRegex(),n.paragraph=u(n.paragraph).replace("hr",n.hr).replace("heading",n.heading).replace("lheading",n.lheading).replace("tag","<"+n._tag).getRegex(),n.blockquote=u(n.blockquote).replace("paragraph",n.paragraph).getRegex(),n.normal=b({},n),n.gfm=b({},n.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n? *\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),n.gfm.paragraph=u(n.paragraph).replace("(?!","(?!"+n.gfm.fences.source.replace("\\1","\\2")+"|"+n.list.source.replace("\\1","\\3")+"|").getRegex(),n.tables=b({},n.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),r.rules=n,r.lex=function(e,t){return new r(t).lex(e)},r.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},r.prototype.token=function(e,t){var r,i,s,l,o,a,h,p,u,c,g;for(e=e.replace(/^ +$/gm,"");e;)if((s=this.rules.newline.exec(e))&&(e=e.substring(s[0].length),s[0].length>1&&this.tokens.push({type:"space"})),s=this.rules.code.exec(e))e=e.substring(s[0].length),s=s[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?s:s.replace(/\n+$/,"")});else if(s=this.rules.fences.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"code",lang:s[2],text:s[3]||""});else if(s=this.rules.heading.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"heading",depth:s[1].length,text:s[2]});else if(t&&(s=this.rules.nptable.exec(e))){for(e=e.substring(s[0].length),a={type:"table",header:s[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3].replace(/\n$/,"").split("\n")},p=0;p<a.align.length;p++)/^ *-+: *$/.test(a.align[p])?a.align[p]="right":/^ *:-+: *$/.test(a.align[p])?a.align[p]="center":/^ *:-+ *$/.test(a.align[p])?a.align[p]="left":a.align[p]=null;for(p=0;p<a.cells.length;p++)a.cells[p]=a.cells[p].split(/ *\| */);this.tokens.push(a)}else if(s=this.rules.hr.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"hr"});else if(s=this.rules.blockquote.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"blockquote_start"}),s=s[0].replace(/^ *> ?/gm,""),this.token(s,t),this.tokens.push({type:"blockquote_end"});else if(s=this.rules.list.exec(e)){for(e=e.substring(s[0].length),g=(l=s[2]).length>1,this.tokens.push({type:"list_start",ordered:g,start:g?+l:""}),r=!1,c=(s=s[0].match(this.rules.item)).length,p=0;p<c;p++)h=(a=s[p]).length,~(a=a.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(h-=a.length,a=this.options.pedantic?a.replace(/^ {1,4}/gm,""):a.replace(new RegExp("^ {1,"+h+"}","gm"),"")),this.options.smartLists&&p!==c-1&&(l===(o=n.bullet.exec(s[p+1])[0])||l.length>1&&o.length>1||(e=s.slice(p+1).join("\n")+e,p=c-1)),i=r||/\n\n(?!\s*$)/.test(a),p!==c-1&&(r="\n"===a.charAt(a.length-1),i||(i=r)),this.tokens.push({type:i?"loose_item_start":"list_item_start"}),this.token(a,!1),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(s=this.rules.html.exec(e))e=e.substring(s[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===s[1]||"script"===s[1]||"style"===s[1]),text:s[0]});else if(t&&(s=this.rules.def.exec(e)))e=e.substring(s[0].length),s[3]&&(s[3]=s[3].substring(1,s[3].length-1)),u=s[1].toLowerCase(),this.tokens.links[u]||(this.tokens.links[u]={href:s[2],title:s[3]});else if(t&&(s=this.rules.table.exec(e))){for(e=e.substring(s[0].length),a={type:"table",header:s[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3].replace(/(?: *\| *)?\n$/,"").split("\n")},p=0;p<a.align.length;p++)/^ *-+: *$/.test(a.align[p])?a.align[p]="right":/^ *:-+: *$/.test(a.align[p])?a.align[p]="center":/^ *:-+ *$/.test(a.align[p])?a.align[p]="left":a.align[p]=null;for(p=0;p<a.cells.length;p++)a.cells[p]=a.cells[p].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(a)}else if(s=this.rules.lheading.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"heading",depth:"="===s[2]?1:2,text:s[1]});else if(t&&(s=this.rules.paragraph.exec(e)))e=e.substring(s[0].length),this.tokens.push({type:"paragraph",text:"\n"===s[1].charAt(s[1].length-1)?s[1].slice(0,-1):s[1]});else if(s=this.rules.text.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"text",text:s[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var i={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:d,tag:/^<!--[\s\S]*?-->|^<\/?[a-zA-Z0-9\-]+(?:"[^"]*"|'[^']*'|\s[^<'">\/\s]*)*?\/?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^_([^\s_](?:[^_]|__)+?[^\s_])_\b|^\*((?:\*\*|[^*])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`]?)\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:d,text:/^[\s\S]+?(?=[\\<!\[`*]|\b_| {2,}\n|$)/};function s(e,t){if(this.options=t||x.defaults,this.links=e,this.rules=i.normal,this.renderer=this.options.renderer||new l,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=i.breaks:this.rules=i.gfm:this.options.pedantic&&(this.rules=i.pedantic)}function l(e){this.options=e||{}}function o(){}function a(e){this.tokens=[],this.token=null,this.options=e||x.defaults,this.options.renderer=this.options.renderer||new l,this.renderer=this.options.renderer,this.renderer.options=this.options}function h(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function p(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function u(e,t){return e=e.source,t=t||"",{replace:function(t,n){return n=(n=n.source||n).replace(/(^|[^\[])\^/g,"$1"),e=e.replace(t,n),this},getRegex:function(){return new RegExp(e,t)}}}function c(e,t){return g[" "+e]||(/^[^:]+:\/*[^/]*$/.test(e)?g[" "+e]=e+"/":g[" "+e]=e.replace(/[^/]*$/,"")),e=g[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+t:e+t}i._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,i._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,i.autolink=u(i.autolink).replace("scheme",i._scheme).replace("email",i._email).getRegex(),i._inside=/(?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]]|\](?=[^\[]*\]))*/,i._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,i.link=u(i.link).replace("inside",i._inside).replace("href",i._href).getRegex(),i.reflink=u(i.reflink).replace("inside",i._inside).getRegex(),i.normal=b({},i),i.pedantic=b({},i.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),i.gfm=b({},i.normal,{escape:u(i.escape).replace("])","~|])").getRegex(),url:u(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("email",i._email).getRegex(),_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:u(i.text).replace("]|","~]|").replace("|","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|").getRegex()}),i.breaks=b({},i.gfm,{br:u(i.br).replace("{2,}","*").getRegex(),text:u(i.gfm.text).replace("{2,}","*").getRegex()}),s.rules=i,s.output=function(e,t,n){return new s(t,n).output(e)},s.prototype.output=function(e){for(var t,n,r,i,s="";e;)if(i=this.rules.escape.exec(e))e=e.substring(i[0].length),s+=i[1];else if(i=this.rules.autolink.exec(e))e=e.substring(i[0].length),r="@"===i[2]?"mailto:"+(n=h(this.mangle(i[1]))):n=h(i[1]),s+=this.renderer.link(r,null,n);else if(this.inLink||!(i=this.rules.url.exec(e))){if(i=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(i[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(i[0])&&(this.inLink=!1),e=e.substring(i[0].length),s+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):h(i[0]):i[0];else if(i=this.rules.link.exec(e))e=e.substring(i[0].length),this.inLink=!0,s+=this.outputLink(i,{href:i[2],title:i[3]}),this.inLink=!1;else if((i=this.rules.reflink.exec(e))||(i=this.rules.nolink.exec(e))){if(e=e.substring(i[0].length),t=(i[2]||i[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){s+=i[0].charAt(0),e=i[0].substring(1)+e;continue}this.inLink=!0,s+=this.outputLink(i,t),this.inLink=!1}else if(i=this.rules.strong.exec(e))e=e.substring(i[0].length),s+=this.renderer.strong(this.output(i[2]||i[1]));else if(i=this.rules.em.exec(e))e=e.substring(i[0].length),s+=this.renderer.em(this.output(i[2]||i[1]));else if(i=this.rules.code.exec(e))e=e.substring(i[0].length),s+=this.renderer.codespan(h(i[2].trim(),!0));else if(i=this.rules.br.exec(e))e=e.substring(i[0].length),s+=this.renderer.br();else if(i=this.rules.del.exec(e))e=e.substring(i[0].length),s+=this.renderer.del(this.output(i[1]));else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),s+=this.renderer.text(h(this.smartypants(i[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else i[0]=this.rules._backpedal.exec(i[0])[0],e=e.substring(i[0].length),"@"===i[2]?r="mailto:"+(n=h(i[0])):(n=h(i[0]),r="www."===i[1]?"http://"+n:n),s+=this.renderer.link(r,null,n);return s},s.prototype.outputLink=function(e,t){var n=h(t.href),r=t.title?h(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,h(e[1]))},s.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},s.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",r=e.length,i=0;i<r;i++)t=e.charCodeAt(i),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},l.prototype.code=function(e,t,n){if(this.options.highlight){var r=this.options.highlight(e,t);null!=r&&r!==e&&(n=!0,e=r)}return t?'<pre><code class="'+this.options.langPrefix+h(t,!0)+'">'+(n?e:h(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:h(e,!0))+"\n</code></pre>"},l.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},l.prototype.html=function(e){return e},l.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},l.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},l.prototype.list=function(e,t,n){var r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"},l.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},l.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},l.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},l.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},l.prototype.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},l.prototype.strong=function(e){return"<strong>"+e+"</strong>"},l.prototype.em=function(e){return"<em>"+e+"</em>"},l.prototype.codespan=function(e){return"<code>"+e+"</code>"},l.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},l.prototype.del=function(e){return"<del>"+e+"</del>"},l.prototype.link=function(e,t,n){if(this.options.sanitize){try{var r=decodeURIComponent(p(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return n}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return n}this.options.baseUrl&&!f.test(e)&&(e=c(this.options.baseUrl,e));var i='<a href="'+e+'"';return t&&(i+=' title="'+t+'"'),i+=">"+n+"</a>"},l.prototype.image=function(e,t,n){this.options.baseUrl&&!f.test(e)&&(e=c(this.options.baseUrl,e));var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},l.prototype.text=function(e){return e},o.prototype.strong=o.prototype.em=o.prototype.codespan=o.prototype.del=o.prototype.text=function(e){return e},o.prototype.link=o.prototype.image=function(e,t,n){return""+n},o.prototype.br=function(){return""},a.parse=function(e,t){return new a(t).parse(e)},a.prototype.parse=function(e){this.inline=new s(e.links,this.options),this.inlineText=new s(e.links,b({},this.options,{renderer:new o})),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},a.prototype.next=function(){return this.token=this.tokens.pop()},a.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},a.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},a.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,p(this.inlineText.output(this.token.text)));case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,r,i="",s="";for(n="",e=0;e<this.token.header.length;e++)n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(i+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",r=0;r<t.length;r++)n+=this.renderer.tablecell(this.inline.output(t[r]),{header:!1,align:this.token.align[r]});s+=this.renderer.tablerow(n)}return this.renderer.table(i,s);case"blockquote_start":for(s="";"blockquote_end"!==this.next().type;)s+=this.tok();return this.renderer.blockquote(s);case"list_start":s="";for(var l=this.token.ordered,o=this.token.start;"list_end"!==this.next().type;)s+=this.tok();return this.renderer.list(s,l,o);case"list_item_start":for(s="";"list_item_end"!==this.next().type;)s+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(s);case"loose_item_start":for(s="";"list_item_end"!==this.next().type;)s+=this.tok();return this.renderer.listitem(s);case"html":var a=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(a);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}};var g={},f=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function d(){}function b(e){for(var t,n,r=1;r<arguments.length;r++)for(n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function x(e,t,n){if(void 0===e||null===e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(n||"function"==typeof t){n||(n=t,t=null);var i,s,l=(t=b({},x.defaults,t||{})).highlight,o=0;try{i=r.lex(e,t)}catch(e){return n(e)}s=i.length;var p=function(e){if(e)return t.highlight=l,n(e);var r;try{r=a.parse(i,t)}catch(t){e=t}return t.highlight=l,e?n(e):n(null,r)};if(!l||l.length<3)return p();if(delete t.highlight,!s)return p();for(;o<i.length;o++)!function(e){"code"!==e.type?--s||p():l(e.text,e.lang,function(t,n){return t?p(t):null==n||n===e.text?--s||p():(e.text=n,e.escaped=!0,void(--s||p()))})}(i[o])}else try{return t&&(t=b({},x.defaults,t)),a.parse(r.lex(e,t),t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||x.defaults).silent)return"<p>An error occurred:</p><pre>"+h(e.message+"",!0)+"</pre>";throw e}}d.exec=d,x.options=x.setOptions=function(e){return b(x.defaults,e),x},x.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new l,xhtml:!1,baseUrl:null},x.Parser=a,x.parser=a.parse,x.Renderer=l,x.TextRenderer=o,x.Lexer=r,x.lexer=r.lex,x.InlineLexer=s,x.inlineLexer=s.output,x.parse=x,e.exports=x}(this||"undefined"!=typeof window&&window)}).call(this,n(1))},function(e,t,n){"use strict";var r,i=(r=n(2))&&r.__esModule?r:{default:r},s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0));n(8),s.input.addEventListener("keyup",function(){s.output.innerHTML=(0,i.default)(this.value)}),s.input.addEventListener("keyup",function(){s.output.innerHTML=(0,i.default)(this.value)});(0,i.default)("# Hello h1 \n ## Hello h2")},,,,,function(e,t){}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vZWxlbWVudHMuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy93ZWJwYWNrL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvbWFya2VkL2xpYi9tYXJrZWQuanMiLCJ3ZWJwYWNrOi8vLy4vaW5kZXguanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwidmFsdWUiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImlucHV0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsIm91dHB1dCIsImciLCJ0aGlzIiwiRnVuY3Rpb24iLCJldmFsIiwiZSIsIndpbmRvdyIsImdsb2JhbCIsInJvb3QiLCJibG9jayIsIm5ld2xpbmUiLCJjb2RlIiwiZmVuY2VzIiwibm9vcCIsImhyIiwiaGVhZGluZyIsIm5wdGFibGUiLCJibG9ja3F1b3RlIiwibGlzdCIsImh0bWwiLCJkZWYiLCJ0YWJsZSIsImxoZWFkaW5nIiwicGFyYWdyYXBoIiwidGV4dCIsIkxleGVyIiwib3B0aW9ucyIsInRva2VucyIsImxpbmtzIiwibWFya2VkIiwiZGVmYXVsdHMiLCJydWxlcyIsIm5vcm1hbCIsImdmbSIsInRhYmxlcyIsIl9sYWJlbCIsIl90aXRsZSIsImVkaXQiLCJyZXBsYWNlIiwiZ2V0UmVnZXgiLCJidWxsZXQiLCJpdGVtIiwic291cmNlIiwiX3RhZyIsIm1lcmdlIiwibGV4Iiwic3JjIiwidG9rZW4iLCJ0b3AiLCJuZXh0IiwibG9vc2UiLCJjYXAiLCJidWxsIiwiYiIsInNwYWNlIiwidGFnIiwiaXNvcmRlcmVkIiwiZXhlYyIsInN1YnN0cmluZyIsImxlbmd0aCIsInB1c2giLCJ0eXBlIiwicGVkYW50aWMiLCJsYW5nIiwiZGVwdGgiLCJoZWFkZXIiLCJzcGxpdCIsImFsaWduIiwiY2VsbHMiLCJ0ZXN0Iiwib3JkZXJlZCIsInN0YXJ0IiwibWF0Y2giLCJpbmRleE9mIiwiUmVnRXhwIiwic21hcnRMaXN0cyIsInNsaWNlIiwiam9pbiIsImNoYXJBdCIsInNhbml0aXplIiwicHJlIiwic2FuaXRpemVyIiwidG9Mb3dlckNhc2UiLCJocmVmIiwidGl0bGUiLCJFcnJvciIsImNoYXJDb2RlQXQiLCJpbmxpbmUiLCJlc2NhcGUiLCJhdXRvbGluayIsInVybCIsImxpbmsiLCJyZWZsaW5rIiwibm9saW5rIiwic3Ryb25nIiwiZW0iLCJiciIsImRlbCIsIklubGluZUxleGVyIiwicmVuZGVyZXIiLCJSZW5kZXJlciIsImJyZWFrcyIsIlRleHRSZW5kZXJlciIsIlBhcnNlciIsImVuY29kZSIsInVuZXNjYXBlIiwiXyIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsInBhcnNlSW50IiwicmVnZXgiLCJvcHQiLCJ2YWwiLCJyZXNvbHZlVXJsIiwiYmFzZSIsImJhc2VVcmxzIiwiX3NjaGVtZSIsIl9lbWFpbCIsIl9pbnNpZGUiLCJfaHJlZiIsIl9iYWNrcGVkYWwiLCJvdXQiLCJtYW5nbGUiLCJpbkxpbmsiLCJvdXRwdXRMaW5rIiwiY29kZXNwYW4iLCJ0cmltIiwic21hcnR5cGFudHMiLCJpbWFnZSIsImNoIiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwiZXNjYXBlZCIsImhpZ2hsaWdodCIsImxhbmdQcmVmaXgiLCJxdW90ZSIsImxldmVsIiwicmF3IiwiaGVhZGVyUHJlZml4IiwieGh0bWwiLCJib2R5IiwibGlzdGl0ZW0iLCJ0YWJsZXJvdyIsImNvbnRlbnQiLCJ0YWJsZWNlbGwiLCJmbGFncyIsInByb3QiLCJkZWNvZGVVUklDb21wb25lbnQiLCJiYXNlVXJsIiwib3JpZ2luSW5kZXBlbmRlbnRVcmwiLCJwYXJzZSIsImlubGluZVRleHQiLCJyZXZlcnNlIiwidG9rIiwicG9wIiwicGVlayIsInBhcnNlVGV4dCIsInJvdyIsImNlbGwiLCJqIiwib2JqIiwidGFyZ2V0Iiwia2V5IiwiYXJndW1lbnRzIiwiY2FsbGJhY2siLCJwZW5kaW5nIiwiZG9uZSIsImVyciIsIm1lc3NhZ2UiLCJzaWxlbnQiLCJzZXRPcHRpb25zIiwicGFyc2VyIiwibGV4ZXIiLCJpbmxpbmVMZXhlciIsIl9tYXJrZWQiLCJlbGVtZW50cyIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImlubmVySFRNTCIsImRlZmF1bHQiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUNBSyxjQUFBLEVBQ0FDLFlBQUEsRUFDQUMsSUFBQU4sS0FNQVosRUFBQW1CLEVBQUEsU0FBQWpCLEdBQ0FZLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURrQixPQUFBLEtBSWpEcEIsRUFBQXFCLEVBQUEsU0FBQWxCLEdBQ0EsSUFBQVMsRUFBQVQsS0FBQW1CLFdBQ0EsV0FBMkIsT0FBQW5CLEVBQUEsU0FDM0IsV0FBaUMsT0FB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SSxFQUFBZ0osTUFBQXBKLEVBQUFvQixJQUVBaEIsRUFBQXFFLGNBQ0FyRSxFQUFBaUosWUFBQTVFLEVBQUFsRyxPQUVBNkIsRUFBQTBILE1BQUExSCxFQUdBMUQsRUFBQUQsUUFBQTJELEVBLzFDQyxDQXEyQ0EzQixNQUFBLG9CQUFBSSxnRUMxMkNELE1BQUF5SyxLQUFBL00sRUFBQSxnQ0FFQWdOLHlTQUFBQyxDQUFBak4sRUFBQSxJQUlBQSxFQUFBLEdBR0FnTixFQUFTbkwsTUFBTXFMLGlCQUFpQixRQUFTLFdBQ3JDbEwsU0FBT21MLFdBQVksRUFBQUosRUFBQUssU0FBT2xMLEtBQUtkLFNBSW5DUyxRQUFNcUwsaUJBQWlCLFFBQVMsV0FDNUJsTCxTQUFPbUwsV0FBWSxFQUFBSixFQUFBSyxTQUFPbEwsS0FBS2QsVUFHakIsRUFBQTJMLEVBQUFLLFNBQU8iLCJmaWxlIjoiYXBwLjk0MjIwNTRhOWNkY2NhMzI3NzZlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAzKTtcbiIsImV4cG9ydCBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnB1dCcpO1xuZXhwb3J0IGNvbnN0IG91dHB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdXRwdXQnKTtcblxuLy9cbi8vLy8gVGEgYm9ydCBleHBvcnQgZnJhbWbDtnIgdmFyaWFibGVybmEgb3ZhbiBvbSBuZWRhbiBhbnbDpG5kYVxuLy8vLyBJbXBvcnRlcmFzIG1lZCBkZWZhdWx0IGltcG9ydDogaW1wb3J0IGVsZW1lbnRzIGZyb20gJy4vZWxlbWVudHMnXG4vL2V4cG9ydCBkZWZhdWx0IHtcbi8vICAgIGlucHV0OiBpbnB1dCxcbi8vICAgIG91dHB1dDogb3V0cHV0XG4vL307XG4vL1xuLy8vLyBTa3JpdiBoZWxscmUgc8OlaMOkcjpcbi8vZXhwb3J0IGRlZmF1bHQge1xuLy8gICAgaW5wdXQsXG4vLyAgICBvdXRwdXRcbi8vfTtcbi8vXG4vLy8vIEVsbGVyIHPDpWjDpHI6XG4vL2NvbnN0IGVsZW1lbnRzIHtcbi8vICAgIGlucHV0LFxuLy8gICAgb3V0cHV0XG4vL307XG4vL1xuLy9leHBvcnQgZGVmYXVsdCBlbGVtZW50czsiLCJ2YXIgZztcclxuXHJcbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXHJcbmcgPSAoZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHRoaXM7XHJcbn0pKCk7XHJcblxyXG50cnkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxyXG5cdGcgPSBnIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSB8fCAoMSwgZXZhbCkoXCJ0aGlzXCIpO1xyXG59IGNhdGNoIChlKSB7XHJcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcclxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcclxufVxyXG5cclxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxyXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xyXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGc7XHJcbiIsIi8qKlxuICogbWFya2VkIC0gYSBtYXJrZG93biBwYXJzZXJcbiAqIENvcHlyaWdodCAoYykgMjAxMS0yMDE0LCBDaHJpc3RvcGhlciBKZWZmcmV5LiAoTUlUIExpY2Vuc2VkKVxuICogaHR0cHM6Ly9naXRodWIuY29tL21hcmtlZGpzL21hcmtlZFxuICovXG5cbjsoZnVuY3Rpb24ocm9vdCkge1xuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEJsb2NrLUxldmVsIEdyYW1tYXJcbiAqL1xuXG52YXIgYmxvY2sgPSB7XG4gIG5ld2xpbmU6IC9eXFxuKy8sXG4gIGNvZGU6IC9eKCB7NH1bXlxcbl0rXFxuKikrLyxcbiAgZmVuY2VzOiBub29wLFxuICBocjogL14gezAsM30oKD86LSAqKXszLH18KD86XyAqKXszLH18KD86XFwqICopezMsfSkoPzpcXG4rfCQpLyxcbiAgaGVhZGluZzogL14gKigjezEsNn0pICooW15cXG5dKz8pICojKiAqKD86XFxuK3wkKS8sXG4gIG5wdGFibGU6IG5vb3AsXG4gIGJsb2NrcXVvdGU6IC9eKCB7MCwzfT4gPyhwYXJhZ3JhcGh8W15cXG5dKikoPzpcXG58JCkpKy8sXG4gIGxpc3Q6IC9eKCAqKShidWxsKSBbXFxzXFxTXSs/KD86aHJ8ZGVmfFxcbnsyLH0oPyEgKSg/IVxcMWJ1bGwgKVxcbip8XFxzKiQpLyxcbiAgaHRtbDogL14gKig/OmNvbW1lbnQgKig/OlxcbnxcXHMqJCl8Y2xvc2VkICooPzpcXG57Mix9fFxccyokKXxjbG9zaW5nICooPzpcXG57Mix9fFxccyokKSkvLFxuICBkZWY6IC9eIHswLDN9XFxbKGxhYmVsKVxcXTogKlxcbj8gKjw/KFteXFxzPl0rKT4/KD86KD86ICtcXG4/ICp8ICpcXG4gKikodGl0bGUpKT8gKig/Olxcbit8JCkvLFxuICB0YWJsZTogbm9vcCxcbiAgbGhlYWRpbmc6IC9eKFteXFxuXSspXFxuICooPXwtKXsyLH0gKig/Olxcbit8JCkvLFxuICBwYXJhZ3JhcGg6IC9eKFteXFxuXSsoPzpcXG4/KD8haHJ8aGVhZGluZ3xsaGVhZGluZ3wgezAsM30+fHRhZylbXlxcbl0rKSspLyxcbiAgdGV4dDogL15bXlxcbl0rL1xufTtcblxuYmxvY2suX2xhYmVsID0gLyg/OlxcXFxbXFxbXFxdXXxbXlxcW1xcXV0pKy87XG5ibG9jay5fdGl0bGUgPSAvKD86XCIoPzpcXFxcXCJ8W15cIl18XCJbXlwiXFxuXSpcIikqXCJ8J1xcbj8oPzpbXidcXG5dK1xcbj8pKid8XFwoW14oKV0qXFwpKS87XG5ibG9jay5kZWYgPSBlZGl0KGJsb2NrLmRlZilcbiAgLnJlcGxhY2UoJ2xhYmVsJywgYmxvY2suX2xhYmVsKVxuICAucmVwbGFjZSgndGl0bGUnLCBibG9jay5fdGl0bGUpXG4gIC5nZXRSZWdleCgpO1xuXG5ibG9jay5idWxsZXQgPSAvKD86WyorLV18XFxkK1xcLikvO1xuYmxvY2suaXRlbSA9IC9eKCAqKShidWxsKSBbXlxcbl0qKD86XFxuKD8hXFwxYnVsbCApW15cXG5dKikqLztcbmJsb2NrLml0ZW0gPSBlZGl0KGJsb2NrLml0ZW0sICdnbScpXG4gIC5yZXBsYWNlKC9idWxsL2csIGJsb2NrLmJ1bGxldClcbiAgLmdldFJlZ2V4KCk7XG5cbmJsb2NrLmxpc3QgPSBlZGl0KGJsb2NrLmxpc3QpXG4gIC5yZXBsYWNlKC9idWxsL2csIGJsb2NrLmJ1bGxldClcbiAgLnJlcGxhY2UoJ2hyJywgJ1xcXFxuKyg/PVxcXFwxPyg/Oig/Oi0gKil7Myx9fCg/Ol8gKil7Myx9fCg/OlxcXFwqICopezMsfSkoPzpcXFxcbit8JCkpJylcbiAgLnJlcGxhY2UoJ2RlZicsICdcXFxcbisoPz0nICsgYmxvY2suZGVmLnNvdXJjZSArICcpJylcbiAgLmdldFJlZ2V4KCk7XG5cbmJsb2NrLl90YWcgPSAnKD8hKD86J1xuICArICdhfGVtfHN0cm9uZ3xzbWFsbHxzfGNpdGV8cXxkZm58YWJicnxkYXRhfHRpbWV8Y29kZSdcbiAgKyAnfHZhcnxzYW1wfGtiZHxzdWJ8c3VwfGl8Ynx1fG1hcmt8cnVieXxydHxycHxiZGl8YmRvJ1xuICArICd8c3Bhbnxicnx3YnJ8aW5zfGRlbHxpbWcpXFxcXGIpXFxcXHcrKD8hOnxbXlxcXFx3XFxcXHNAXSpAKVxcXFxiJztcblxuYmxvY2suaHRtbCA9IGVkaXQoYmxvY2suaHRtbClcbiAgLnJlcGxhY2UoJ2NvbW1lbnQnLCAvPCEtLVtcXHNcXFNdKj8tLT4vKVxuICAucmVwbGFjZSgnY2xvc2VkJywgLzwodGFnKVtcXHNcXFNdKz88XFwvXFwxPi8pXG4gIC5yZXBsYWNlKCdjbG9zaW5nJywgLzx0YWcoPzpcIlteXCJdKlwifCdbXiddKid8XFxzW14nXCJcXC8+XFxzXSopKj9cXC8/Pi8pXG4gIC5yZXBsYWNlKC90YWcvZywgYmxvY2suX3RhZylcbiAgLmdldFJlZ2V4KCk7XG5cbmJsb2NrLnBhcmFncmFwaCA9IGVkaXQoYmxvY2sucGFyYWdyYXBoKVxuICAucmVwbGFjZSgnaHInLCBibG9jay5ocilcbiAgLnJlcGxhY2UoJ2hlYWRpbmcnLCBibG9jay5oZWFkaW5nKVxuICAucmVwbGFjZSgnbGhlYWRpbmcnLCBibG9jay5saGVhZGluZylcbiAgLnJlcGxhY2UoJ3RhZycsICc8JyArIGJsb2NrLl90YWcpXG4gIC5nZXRSZWdleCgpO1xuXG5ibG9jay5ibG9ja3F1b3RlID0gZWRpdChibG9jay5ibG9ja3F1b3RlKVxuICAucmVwbGFjZSgncGFyYWdyYXBoJywgYmxvY2sucGFyYWdyYXBoKVxuICAuZ2V0UmVnZXgoKTtcblxuLyoqXG4gKiBOb3JtYWwgQmxvY2sgR3JhbW1hclxuICovXG5cbmJsb2NrLm5vcm1hbCA9IG1lcmdlKHt9LCBibG9jayk7XG5cbi8qKlxuICogR0ZNIEJsb2NrIEdyYW1tYXJcbiAqL1xuXG5ibG9jay5nZm0gPSBtZXJnZSh7fSwgYmxvY2subm9ybWFsLCB7XG4gIGZlbmNlczogL14gKihgezMsfXx+ezMsfSlbIFxcLl0qKFxcUyspPyAqXFxuKFtcXHNcXFNdKj8pXFxuPyAqXFwxICooPzpcXG4rfCQpLyxcbiAgcGFyYWdyYXBoOiAvXi8sXG4gIGhlYWRpbmc6IC9eICooI3sxLDZ9KSArKFteXFxuXSs/KSAqIyogKig/Olxcbit8JCkvXG59KTtcblxuYmxvY2suZ2ZtLnBhcmFncmFwaCA9IGVkaXQoYmxvY2sucGFyYWdyYXBoKVxuICAucmVwbGFjZSgnKD8hJywgJyg/ISdcbiAgICArIGJsb2NrLmdmbS5mZW5jZXMuc291cmNlLnJlcGxhY2UoJ1xcXFwxJywgJ1xcXFwyJykgKyAnfCdcbiAgICArIGJsb2NrLmxpc3Quc291cmNlLnJlcGxhY2UoJ1xcXFwxJywgJ1xcXFwzJykgKyAnfCcpXG4gIC5nZXRSZWdleCgpO1xuXG4vKipcbiAqIEdGTSArIFRhYmxlcyBCbG9jayBHcmFtbWFyXG4gKi9cblxuYmxvY2sudGFibGVzID0gbWVyZ2Uoe30sIGJsb2NrLmdmbSwge1xuICBucHRhYmxlOiAvXiAqKFxcUy4qXFx8LiopXFxuICooWy06XSsgKlxcfFstfCA6XSopXFxuKCg/Oi4qXFx8LiooPzpcXG58JCkpKilcXG4qLyxcbiAgdGFibGU6IC9eICpcXHwoLispXFxuICpcXHwoICpbLTpdK1stfCA6XSopXFxuKCg/OiAqXFx8LiooPzpcXG58JCkpKilcXG4qL1xufSk7XG5cbi8qKlxuICogQmxvY2sgTGV4ZXJcbiAqL1xuXG5mdW5jdGlvbiBMZXhlcihvcHRpb25zKSB7XG4gIHRoaXMudG9rZW5zID0gW107XG4gIHRoaXMudG9rZW5zLmxpbmtzID0ge307XG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwgbWFya2VkLmRlZmF1bHRzO1xuICB0aGlzLnJ1bGVzID0gYmxvY2subm9ybWFsO1xuXG4gIGlmICh0aGlzLm9wdGlvbnMuZ2ZtKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy50YWJsZXMpIHtcbiAgICAgIHRoaXMucnVsZXMgPSBibG9jay50YWJsZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucnVsZXMgPSBibG9jay5nZm07XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogRXhwb3NlIEJsb2NrIFJ1bGVzXG4gKi9cblxuTGV4ZXIucnVsZXMgPSBibG9jaztcblxuLyoqXG4gKiBTdGF0aWMgTGV4IE1ldGhvZFxuICovXG5cbkxleGVyLmxleCA9IGZ1bmN0aW9uKHNyYywgb3B0aW9ucykge1xuICB2YXIgbGV4ZXIgPSBuZXcgTGV4ZXIob3B0aW9ucyk7XG4gIHJldHVybiBsZXhlci5sZXgoc3JjKTtcbn07XG5cbi8qKlxuICogUHJlcHJvY2Vzc2luZ1xuICovXG5cbkxleGVyLnByb3RvdHlwZS5sZXggPSBmdW5jdGlvbihzcmMpIHtcbiAgc3JjID0gc3JjXG4gICAgLnJlcGxhY2UoL1xcclxcbnxcXHIvZywgJ1xcbicpXG4gICAgLnJlcGxhY2UoL1xcdC9nLCAnICAgICcpXG4gICAgLnJlcGxhY2UoL1xcdTAwYTAvZywgJyAnKVxuICAgIC5yZXBsYWNlKC9cXHUyNDI0L2csICdcXG4nKTtcblxuICByZXR1cm4gdGhpcy50b2tlbihzcmMsIHRydWUpO1xufTtcblxuLyoqXG4gKiBMZXhpbmdcbiAqL1xuXG5MZXhlci5wcm90b3R5cGUudG9rZW4gPSBmdW5jdGlvbihzcmMsIHRvcCkge1xuICBzcmMgPSBzcmMucmVwbGFjZSgvXiArJC9nbSwgJycpO1xuICB2YXIgbmV4dCxcbiAgICAgIGxvb3NlLFxuICAgICAgY2FwLFxuICAgICAgYnVsbCxcbiAgICAgIGIsXG4gICAgICBpdGVtLFxuICAgICAgc3BhY2UsXG4gICAgICBpLFxuICAgICAgdGFnLFxuICAgICAgbCxcbiAgICAgIGlzb3JkZXJlZDtcblxuICB3aGlsZSAoc3JjKSB7XG4gICAgLy8gbmV3bGluZVxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLm5ld2xpbmUuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgaWYgKGNhcFswXS5sZW5ndGggPiAxKSB7XG4gICAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICAgIHR5cGU6ICdzcGFjZSdcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gY29kZVxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmNvZGUuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgY2FwID0gY2FwWzBdLnJlcGxhY2UoL14gezR9L2dtLCAnJyk7XG4gICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgdHlwZTogJ2NvZGUnLFxuICAgICAgICB0ZXh0OiAhdGhpcy5vcHRpb25zLnBlZGFudGljXG4gICAgICAgICAgPyBjYXAucmVwbGFjZSgvXFxuKyQvLCAnJylcbiAgICAgICAgICA6IGNhcFxuICAgICAgfSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBmZW5jZXMgKGdmbSlcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5mZW5jZXMuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6ICdjb2RlJyxcbiAgICAgICAgbGFuZzogY2FwWzJdLFxuICAgICAgICB0ZXh0OiBjYXBbM10gfHwgJydcbiAgICAgIH0pO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gaGVhZGluZ1xuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmhlYWRpbmcuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6ICdoZWFkaW5nJyxcbiAgICAgICAgZGVwdGg6IGNhcFsxXS5sZW5ndGgsXG4gICAgICAgIHRleHQ6IGNhcFsyXVxuICAgICAgfSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyB0YWJsZSBubyBsZWFkaW5nIHBpcGUgKGdmbSlcbiAgICBpZiAodG9wICYmIChjYXAgPSB0aGlzLnJ1bGVzLm5wdGFibGUuZXhlYyhzcmMpKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcblxuICAgICAgaXRlbSA9IHtcbiAgICAgICAgdHlwZTogJ3RhYmxlJyxcbiAgICAgICAgaGVhZGVyOiBjYXBbMV0ucmVwbGFjZSgvXiAqfCAqXFx8ICokL2csICcnKS5zcGxpdCgvICpcXHwgKi8pLFxuICAgICAgICBhbGlnbjogY2FwWzJdLnJlcGxhY2UoL14gKnxcXHwgKiQvZywgJycpLnNwbGl0KC8gKlxcfCAqLyksXG4gICAgICAgIGNlbGxzOiBjYXBbM10ucmVwbGFjZSgvXFxuJC8sICcnKS5zcGxpdCgnXFxuJylcbiAgICAgIH07XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBpdGVtLmFsaWduLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICgvXiAqLSs6ICokLy50ZXN0KGl0ZW0uYWxpZ25baV0pKSB7XG4gICAgICAgICAgaXRlbS5hbGlnbltpXSA9ICdyaWdodCc7XG4gICAgICAgIH0gZWxzZSBpZiAoL14gKjotKzogKiQvLnRlc3QoaXRlbS5hbGlnbltpXSkpIHtcbiAgICAgICAgICBpdGVtLmFsaWduW2ldID0gJ2NlbnRlcic7XG4gICAgICAgIH0gZWxzZSBpZiAoL14gKjotKyAqJC8udGVzdChpdGVtLmFsaWduW2ldKSkge1xuICAgICAgICAgIGl0ZW0uYWxpZ25baV0gPSAnbGVmdCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbS5hbGlnbltpXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yIChpID0gMDsgaSA8IGl0ZW0uY2VsbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaXRlbS5jZWxsc1tpXSA9IGl0ZW0uY2VsbHNbaV0uc3BsaXQoLyAqXFx8ICovKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy50b2tlbnMucHVzaChpdGVtKTtcblxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gaHJcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5oci5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgdHlwZTogJ2hyJ1xuICAgICAgfSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBibG9ja3F1b3RlXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuYmxvY2txdW90ZS5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG5cbiAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICB0eXBlOiAnYmxvY2txdW90ZV9zdGFydCdcbiAgICAgIH0pO1xuXG4gICAgICBjYXAgPSBjYXBbMF0ucmVwbGFjZSgvXiAqPiA/L2dtLCAnJyk7XG5cbiAgICAgIC8vIFBhc3MgYHRvcGAgdG8ga2VlcCB0aGUgY3VycmVudFxuICAgICAgLy8gXCJ0b3BsZXZlbFwiIHN0YXRlLiBUaGlzIGlzIGV4YWN0bHlcbiAgICAgIC8vIGhvdyBtYXJrZG93bi5wbCB3b3Jrcy5cbiAgICAgIHRoaXMudG9rZW4oY2FwLCB0b3ApO1xuXG4gICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgdHlwZTogJ2Jsb2NrcXVvdGVfZW5kJ1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGxpc3RcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5saXN0LmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIGJ1bGwgPSBjYXBbMl07XG4gICAgICBpc29yZGVyZWQgPSBidWxsLmxlbmd0aCA+IDE7XG5cbiAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICB0eXBlOiAnbGlzdF9zdGFydCcsXG4gICAgICAgIG9yZGVyZWQ6IGlzb3JkZXJlZCxcbiAgICAgICAgc3RhcnQ6IGlzb3JkZXJlZCA/ICtidWxsIDogJydcbiAgICAgIH0pO1xuXG4gICAgICAvLyBHZXQgZWFjaCB0b3AtbGV2ZWwgaXRlbS5cbiAgICAgIGNhcCA9IGNhcFswXS5tYXRjaCh0aGlzLnJ1bGVzLml0ZW0pO1xuXG4gICAgICBuZXh0ID0gZmFsc2U7XG4gICAgICBsID0gY2FwLmxlbmd0aDtcbiAgICAgIGkgPSAwO1xuXG4gICAgICBmb3IgKDsgaSA8IGw7IGkrKykge1xuICAgICAgICBpdGVtID0gY2FwW2ldO1xuXG4gICAgICAgIC8vIFJlbW92ZSB0aGUgbGlzdCBpdGVtJ3MgYnVsbGV0XG4gICAgICAgIC8vIHNvIGl0IGlzIHNlZW4gYXMgdGhlIG5leHQgdG9rZW4uXG4gICAgICAgIHNwYWNlID0gaXRlbS5sZW5ndGg7XG4gICAgICAgIGl0ZW0gPSBpdGVtLnJlcGxhY2UoL14gKihbKistXXxcXGQrXFwuKSArLywgJycpO1xuXG4gICAgICAgIC8vIE91dGRlbnQgd2hhdGV2ZXIgdGhlXG4gICAgICAgIC8vIGxpc3QgaXRlbSBjb250YWlucy4gSGFja3kuXG4gICAgICAgIGlmICh+aXRlbS5pbmRleE9mKCdcXG4gJykpIHtcbiAgICAgICAgICBzcGFjZSAtPSBpdGVtLmxlbmd0aDtcbiAgICAgICAgICBpdGVtID0gIXRoaXMub3B0aW9ucy5wZWRhbnRpY1xuICAgICAgICAgICAgPyBpdGVtLnJlcGxhY2UobmV3IFJlZ0V4cCgnXiB7MSwnICsgc3BhY2UgKyAnfScsICdnbScpLCAnJylcbiAgICAgICAgICAgIDogaXRlbS5yZXBsYWNlKC9eIHsxLDR9L2dtLCAnJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEZXRlcm1pbmUgd2hldGhlciB0aGUgbmV4dCBsaXN0IGl0ZW0gYmVsb25ncyBoZXJlLlxuICAgICAgICAvLyBCYWNrcGVkYWwgaWYgaXQgZG9lcyBub3QgYmVsb25nIGluIHRoaXMgbGlzdC5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zbWFydExpc3RzICYmIGkgIT09IGwgLSAxKSB7XG4gICAgICAgICAgYiA9IGJsb2NrLmJ1bGxldC5leGVjKGNhcFtpICsgMV0pWzBdO1xuICAgICAgICAgIGlmIChidWxsICE9PSBiICYmICEoYnVsbC5sZW5ndGggPiAxICYmIGIubGVuZ3RoID4gMSkpIHtcbiAgICAgICAgICAgIHNyYyA9IGNhcC5zbGljZShpICsgMSkuam9pbignXFxuJykgKyBzcmM7XG4gICAgICAgICAgICBpID0gbCAtIDE7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGV0ZXJtaW5lIHdoZXRoZXIgaXRlbSBpcyBsb29zZSBvciBub3QuXG4gICAgICAgIC8vIFVzZTogLyhefFxcbikoPyEgKVteXFxuXStcXG5cXG4oPyFcXHMqJCkvXG4gICAgICAgIC8vIGZvciBkaXNjb3VudCBiZWhhdmlvci5cbiAgICAgICAgbG9vc2UgPSBuZXh0IHx8IC9cXG5cXG4oPyFcXHMqJCkvLnRlc3QoaXRlbSk7XG4gICAgICAgIGlmIChpICE9PSBsIC0gMSkge1xuICAgICAgICAgIG5leHQgPSBpdGVtLmNoYXJBdChpdGVtLmxlbmd0aCAtIDEpID09PSAnXFxuJztcbiAgICAgICAgICBpZiAoIWxvb3NlKSBsb29zZSA9IG5leHQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiBsb29zZVxuICAgICAgICAgICAgPyAnbG9vc2VfaXRlbV9zdGFydCdcbiAgICAgICAgICAgIDogJ2xpc3RfaXRlbV9zdGFydCdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gUmVjdXJzZS5cbiAgICAgICAgdGhpcy50b2tlbihpdGVtLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgICAgdHlwZTogJ2xpc3RfaXRlbV9lbmQnXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgdHlwZTogJ2xpc3RfZW5kJ1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGh0bWxcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5odG1sLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICB0eXBlOiB0aGlzLm9wdGlvbnMuc2FuaXRpemVcbiAgICAgICAgICA/ICdwYXJhZ3JhcGgnXG4gICAgICAgICAgOiAnaHRtbCcsXG4gICAgICAgIHByZTogIXRoaXMub3B0aW9ucy5zYW5pdGl6ZXJcbiAgICAgICAgICAmJiAoY2FwWzFdID09PSAncHJlJyB8fCBjYXBbMV0gPT09ICdzY3JpcHQnIHx8IGNhcFsxXSA9PT0gJ3N0eWxlJyksXG4gICAgICAgIHRleHQ6IGNhcFswXVxuICAgICAgfSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBkZWZcbiAgICBpZiAodG9wICYmIChjYXAgPSB0aGlzLnJ1bGVzLmRlZi5leGVjKHNyYykpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgaWYgKGNhcFszXSkgY2FwWzNdID0gY2FwWzNdLnN1YnN0cmluZygxLCBjYXBbM10ubGVuZ3RoIC0gMSk7XG4gICAgICB0YWcgPSBjYXBbMV0udG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmICghdGhpcy50b2tlbnMubGlua3NbdGFnXSkge1xuICAgICAgICB0aGlzLnRva2Vucy5saW5rc1t0YWddID0ge1xuICAgICAgICAgIGhyZWY6IGNhcFsyXSxcbiAgICAgICAgICB0aXRsZTogY2FwWzNdXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyB0YWJsZSAoZ2ZtKVxuICAgIGlmICh0b3AgJiYgKGNhcCA9IHRoaXMucnVsZXMudGFibGUuZXhlYyhzcmMpKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcblxuICAgICAgaXRlbSA9IHtcbiAgICAgICAgdHlwZTogJ3RhYmxlJyxcbiAgICAgICAgaGVhZGVyOiBjYXBbMV0ucmVwbGFjZSgvXiAqfCAqXFx8ICokL2csICcnKS5zcGxpdCgvICpcXHwgKi8pLFxuICAgICAgICBhbGlnbjogY2FwWzJdLnJlcGxhY2UoL14gKnxcXHwgKiQvZywgJycpLnNwbGl0KC8gKlxcfCAqLyksXG4gICAgICAgIGNlbGxzOiBjYXBbM10ucmVwbGFjZSgvKD86ICpcXHwgKik/XFxuJC8sICcnKS5zcGxpdCgnXFxuJylcbiAgICAgIH07XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBpdGVtLmFsaWduLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICgvXiAqLSs6ICokLy50ZXN0KGl0ZW0uYWxpZ25baV0pKSB7XG4gICAgICAgICAgaXRlbS5hbGlnbltpXSA9ICdyaWdodCc7XG4gICAgICAgIH0gZWxzZSBpZiAoL14gKjotKzogKiQvLnRlc3QoaXRlbS5hbGlnbltpXSkpIHtcbiAgICAgICAgICBpdGVtLmFsaWduW2ldID0gJ2NlbnRlcic7XG4gICAgICAgIH0gZWxzZSBpZiAoL14gKjotKyAqJC8udGVzdChpdGVtLmFsaWduW2ldKSkge1xuICAgICAgICAgIGl0ZW0uYWxpZ25baV0gPSAnbGVmdCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbS5hbGlnbltpXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yIChpID0gMDsgaSA8IGl0ZW0uY2VsbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaXRlbS5jZWxsc1tpXSA9IGl0ZW0uY2VsbHNbaV1cbiAgICAgICAgICAucmVwbGFjZSgvXiAqXFx8ICp8ICpcXHwgKiQvZywgJycpXG4gICAgICAgICAgLnNwbGl0KC8gKlxcfCAqLyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudG9rZW5zLnB1c2goaXRlbSk7XG5cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGxoZWFkaW5nXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMubGhlYWRpbmcuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6ICdoZWFkaW5nJyxcbiAgICAgICAgZGVwdGg6IGNhcFsyXSA9PT0gJz0nID8gMSA6IDIsXG4gICAgICAgIHRleHQ6IGNhcFsxXVxuICAgICAgfSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyB0b3AtbGV2ZWwgcGFyYWdyYXBoXG4gICAgaWYgKHRvcCAmJiAoY2FwID0gdGhpcy5ydWxlcy5wYXJhZ3JhcGguZXhlYyhzcmMpKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICB0eXBlOiAncGFyYWdyYXBoJyxcbiAgICAgICAgdGV4dDogY2FwWzFdLmNoYXJBdChjYXBbMV0ubGVuZ3RoIC0gMSkgPT09ICdcXG4nXG4gICAgICAgICAgPyBjYXBbMV0uc2xpY2UoMCwgLTEpXG4gICAgICAgICAgOiBjYXBbMV1cbiAgICAgIH0pO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gdGV4dFxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLnRleHQuZXhlYyhzcmMpKSB7XG4gICAgICAvLyBUb3AtbGV2ZWwgc2hvdWxkIG5ldmVyIHJlYWNoIGhlcmUuXG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgdGV4dDogY2FwWzBdXG4gICAgICB9KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChzcmMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW5maW5pdGUgbG9vcCBvbiBieXRlOiAnICsgc3JjLmNoYXJDb2RlQXQoMCkpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzLnRva2Vucztcbn07XG5cbi8qKlxuICogSW5saW5lLUxldmVsIEdyYW1tYXJcbiAqL1xuXG52YXIgaW5saW5lID0ge1xuICBlc2NhcGU6IC9eXFxcXChbXFxcXGAqe31cXFtcXF0oKSMrXFwtLiFfPl0pLyxcbiAgYXV0b2xpbms6IC9ePChzY2hlbWU6W15cXHNcXHgwMC1cXHgxZjw+XSp8ZW1haWwpPi8sXG4gIHVybDogbm9vcCxcbiAgdGFnOiAvXjwhLS1bXFxzXFxTXSo/LS0+fF48XFwvP1thLXpBLVowLTlcXC1dKyg/OlwiW15cIl0qXCJ8J1teJ10qJ3xcXHNbXjwnXCI+XFwvXFxzXSopKj9cXC8/Pi8sXG4gIGxpbms6IC9eIT9cXFsoaW5zaWRlKVxcXVxcKGhyZWZcXCkvLFxuICByZWZsaW5rOiAvXiE/XFxbKGluc2lkZSlcXF1cXHMqXFxbKFteXFxdXSopXFxdLyxcbiAgbm9saW5rOiAvXiE/XFxbKCg/OlxcW1teXFxbXFxdXSpcXF18XFxcXFtcXFtcXF1dfFteXFxbXFxdXSkqKVxcXS8sXG4gIHN0cm9uZzogL15fXyhbXFxzXFxTXSs/KV9fKD8hXyl8XlxcKlxcKihbXFxzXFxTXSs/KVxcKlxcKig/IVxcKikvLFxuICBlbTogL15fKFteXFxzX10oPzpbXl9dfF9fKSs/W15cXHNfXSlfXFxifF5cXCooKD86XFwqXFwqfFteKl0pKz8pXFwqKD8hXFwqKS8sXG4gIGNvZGU6IC9eKGArKVxccyooW1xcc1xcU10qP1teYF0/KVxccypcXDEoPyFgKS8sXG4gIGJyOiAvXiB7Mix9XFxuKD8hXFxzKiQpLyxcbiAgZGVsOiBub29wLFxuICB0ZXh0OiAvXltcXHNcXFNdKz8oPz1bXFxcXDwhXFxbYCpdfFxcYl98IHsyLH1cXG58JCkvXG59O1xuXG5pbmxpbmUuX3NjaGVtZSA9IC9bYS16QS1aXVthLXpBLVowLTkrLi1dezEsMzF9LztcbmlubGluZS5fZW1haWwgPSAvW2EtekEtWjAtOS4hIyQlJicqKy89P15fYHt8fX4tXSsoQClbYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8oPzpcXC5bYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8pKyg/IVstX10pLztcblxuaW5saW5lLmF1dG9saW5rID0gZWRpdChpbmxpbmUuYXV0b2xpbmspXG4gIC5yZXBsYWNlKCdzY2hlbWUnLCBpbmxpbmUuX3NjaGVtZSlcbiAgLnJlcGxhY2UoJ2VtYWlsJywgaW5saW5lLl9lbWFpbClcbiAgLmdldFJlZ2V4KClcblxuaW5saW5lLl9pbnNpZGUgPSAvKD86XFxbW15cXFtcXF1dKlxcXXxcXFxcW1xcW1xcXV18W15cXFtcXF1dfFxcXSg/PVteXFxbXSpcXF0pKSovO1xuaW5saW5lLl9ocmVmID0gL1xccyo8PyhbXFxzXFxTXSo/KT4/KD86XFxzK1snXCJdKFtcXHNcXFNdKj8pWydcIl0pP1xccyovO1xuXG5pbmxpbmUubGluayA9IGVkaXQoaW5saW5lLmxpbmspXG4gIC5yZXBsYWNlKCdpbnNpZGUnLCBpbmxpbmUuX2luc2lkZSlcbiAgLnJlcGxhY2UoJ2hyZWYnLCBpbmxpbmUuX2hyZWYpXG4gIC5nZXRSZWdleCgpO1xuXG5pbmxpbmUucmVmbGluayA9IGVkaXQoaW5saW5lLnJlZmxpbmspXG4gIC5yZXBsYWNlKCdpbnNpZGUnLCBpbmxpbmUuX2luc2lkZSlcbiAgLmdldFJlZ2V4KCk7XG5cbi8qKlxuICogTm9ybWFsIElubGluZSBHcmFtbWFyXG4gKi9cblxuaW5saW5lLm5vcm1hbCA9IG1lcmdlKHt9LCBpbmxpbmUpO1xuXG4vKipcbiAqIFBlZGFudGljIElubGluZSBHcmFtbWFyXG4gKi9cblxuaW5saW5lLnBlZGFudGljID0gbWVyZ2Uoe30sIGlubGluZS5ub3JtYWwsIHtcbiAgc3Ryb25nOiAvXl9fKD89XFxTKShbXFxzXFxTXSo/XFxTKV9fKD8hXyl8XlxcKlxcKig/PVxcUykoW1xcc1xcU10qP1xcUylcXCpcXCooPyFcXCopLyxcbiAgZW06IC9eXyg/PVxcUykoW1xcc1xcU10qP1xcUylfKD8hXyl8XlxcKig/PVxcUykoW1xcc1xcU10qP1xcUylcXCooPyFcXCopL1xufSk7XG5cbi8qKlxuICogR0ZNIElubGluZSBHcmFtbWFyXG4gKi9cblxuaW5saW5lLmdmbSA9IG1lcmdlKHt9LCBpbmxpbmUubm9ybWFsLCB7XG4gIGVzY2FwZTogZWRpdChpbmxpbmUuZXNjYXBlKS5yZXBsYWNlKCddKScsICd+fF0pJykuZ2V0UmVnZXgoKSxcbiAgdXJsOiBlZGl0KC9eKCg/OmZ0cHxodHRwcz8pOlxcL1xcL3x3d3dcXC4pKD86W2EtekEtWjAtOVxcLV0rXFwuPykrW15cXHM8XSp8XmVtYWlsLylcbiAgICAucmVwbGFjZSgnZW1haWwnLCBpbmxpbmUuX2VtYWlsKVxuICAgIC5nZXRSZWdleCgpLFxuICBfYmFja3BlZGFsOiAvKD86W14/IS4sOjsqX34oKSZdK3xcXChbXildKlxcKXwmKD8hW2EtekEtWjAtOV0rOyQpfFs/IS4sOjsqX34pXSsoPyEkKSkrLyxcbiAgZGVsOiAvXn5+KD89XFxTKShbXFxzXFxTXSo/XFxTKX5+LyxcbiAgdGV4dDogZWRpdChpbmxpbmUudGV4dClcbiAgICAucmVwbGFjZSgnXXwnLCAnfl18JylcbiAgICAucmVwbGFjZSgnfCcsICd8aHR0cHM/Oi8vfGZ0cDovL3x3d3dcXFxcLnxbYS16QS1aMC05LiEjJCUmXFwnKisvPT9eX2B7XFxcXHx9fi1dK0B8JylcbiAgICAuZ2V0UmVnZXgoKVxufSk7XG5cbi8qKlxuICogR0ZNICsgTGluZSBCcmVha3MgSW5saW5lIEdyYW1tYXJcbiAqL1xuXG5pbmxpbmUuYnJlYWtzID0gbWVyZ2Uoe30sIGlubGluZS5nZm0sIHtcbiAgYnI6IGVkaXQoaW5saW5lLmJyKS5yZXBsYWNlKCd7Mix9JywgJyonKS5nZXRSZWdleCgpLFxuICB0ZXh0OiBlZGl0KGlubGluZS5nZm0udGV4dCkucmVwbGFjZSgnezIsfScsICcqJykuZ2V0UmVnZXgoKVxufSk7XG5cbi8qKlxuICogSW5saW5lIExleGVyICYgQ29tcGlsZXJcbiAqL1xuXG5mdW5jdGlvbiBJbmxpbmVMZXhlcihsaW5rcywgb3B0aW9ucykge1xuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IG1hcmtlZC5kZWZhdWx0cztcbiAgdGhpcy5saW5rcyA9IGxpbmtzO1xuICB0aGlzLnJ1bGVzID0gaW5saW5lLm5vcm1hbDtcbiAgdGhpcy5yZW5kZXJlciA9IHRoaXMub3B0aW9ucy5yZW5kZXJlciB8fCBuZXcgUmVuZGVyZXIoKTtcbiAgdGhpcy5yZW5kZXJlci5vcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gIGlmICghdGhpcy5saW5rcykge1xuICAgIHRocm93IG5ldyBFcnJvcignVG9rZW5zIGFycmF5IHJlcXVpcmVzIGEgYGxpbmtzYCBwcm9wZXJ0eS4nKTtcbiAgfVxuXG4gIGlmICh0aGlzLm9wdGlvbnMuZ2ZtKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5icmVha3MpIHtcbiAgICAgIHRoaXMucnVsZXMgPSBpbmxpbmUuYnJlYWtzO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJ1bGVzID0gaW5saW5lLmdmbTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLnBlZGFudGljKSB7XG4gICAgdGhpcy5ydWxlcyA9IGlubGluZS5wZWRhbnRpYztcbiAgfVxufVxuXG4vKipcbiAqIEV4cG9zZSBJbmxpbmUgUnVsZXNcbiAqL1xuXG5JbmxpbmVMZXhlci5ydWxlcyA9IGlubGluZTtcblxuLyoqXG4gKiBTdGF0aWMgTGV4aW5nL0NvbXBpbGluZyBNZXRob2RcbiAqL1xuXG5JbmxpbmVMZXhlci5vdXRwdXQgPSBmdW5jdGlvbihzcmMsIGxpbmtzLCBvcHRpb25zKSB7XG4gIHZhciBpbmxpbmUgPSBuZXcgSW5saW5lTGV4ZXIobGlua3MsIG9wdGlvbnMpO1xuICByZXR1cm4gaW5saW5lLm91dHB1dChzcmMpO1xufTtcblxuLyoqXG4gKiBMZXhpbmcvQ29tcGlsaW5nXG4gKi9cblxuSW5saW5lTGV4ZXIucHJvdG90eXBlLm91dHB1dCA9IGZ1bmN0aW9uKHNyYykge1xuICB2YXIgb3V0ID0gJycsXG4gICAgICBsaW5rLFxuICAgICAgdGV4dCxcbiAgICAgIGhyZWYsXG4gICAgICBjYXA7XG5cbiAgd2hpbGUgKHNyYykge1xuICAgIC8vIGVzY2FwZVxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmVzY2FwZS5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICBvdXQgKz0gY2FwWzFdO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gYXV0b2xpbmtcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5hdXRvbGluay5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICBpZiAoY2FwWzJdID09PSAnQCcpIHtcbiAgICAgICAgdGV4dCA9IGVzY2FwZSh0aGlzLm1hbmdsZShjYXBbMV0pKTtcbiAgICAgICAgaHJlZiA9ICdtYWlsdG86JyArIHRleHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0ZXh0ID0gZXNjYXBlKGNhcFsxXSk7XG4gICAgICAgIGhyZWYgPSB0ZXh0O1xuICAgICAgfVxuICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIubGluayhocmVmLCBudWxsLCB0ZXh0KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIHVybCAoZ2ZtKVxuICAgIGlmICghdGhpcy5pbkxpbmsgJiYgKGNhcCA9IHRoaXMucnVsZXMudXJsLmV4ZWMoc3JjKSkpIHtcbiAgICAgIGNhcFswXSA9IHRoaXMucnVsZXMuX2JhY2twZWRhbC5leGVjKGNhcFswXSlbMF07XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgaWYgKGNhcFsyXSA9PT0gJ0AnKSB7XG4gICAgICAgIHRleHQgPSBlc2NhcGUoY2FwWzBdKTtcbiAgICAgICAgaHJlZiA9ICdtYWlsdG86JyArIHRleHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0ZXh0ID0gZXNjYXBlKGNhcFswXSk7XG4gICAgICAgIGlmIChjYXBbMV0gPT09ICd3d3cuJykge1xuICAgICAgICAgIGhyZWYgPSAnaHR0cDovLycgKyB0ZXh0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGhyZWYgPSB0ZXh0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5saW5rKGhyZWYsIG51bGwsIHRleHQpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gdGFnXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMudGFnLmV4ZWMoc3JjKSkge1xuICAgICAgaWYgKCF0aGlzLmluTGluayAmJiAvXjxhIC9pLnRlc3QoY2FwWzBdKSkge1xuICAgICAgICB0aGlzLmluTGluayA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaW5MaW5rICYmIC9ePFxcL2E+L2kudGVzdChjYXBbMF0pKSB7XG4gICAgICAgIHRoaXMuaW5MaW5rID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgb3V0ICs9IHRoaXMub3B0aW9ucy5zYW5pdGl6ZVxuICAgICAgICA/IHRoaXMub3B0aW9ucy5zYW5pdGl6ZXJcbiAgICAgICAgICA/IHRoaXMub3B0aW9ucy5zYW5pdGl6ZXIoY2FwWzBdKVxuICAgICAgICAgIDogZXNjYXBlKGNhcFswXSlcbiAgICAgICAgOiBjYXBbMF1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGxpbmtcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5saW5rLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIHRoaXMuaW5MaW5rID0gdHJ1ZTtcbiAgICAgIG91dCArPSB0aGlzLm91dHB1dExpbmsoY2FwLCB7XG4gICAgICAgIGhyZWY6IGNhcFsyXSxcbiAgICAgICAgdGl0bGU6IGNhcFszXVxuICAgICAgfSk7XG4gICAgICB0aGlzLmluTGluayA9IGZhbHNlO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gcmVmbGluaywgbm9saW5rXG4gICAgaWYgKChjYXAgPSB0aGlzLnJ1bGVzLnJlZmxpbmsuZXhlYyhzcmMpKVxuICAgICAgICB8fCAoY2FwID0gdGhpcy5ydWxlcy5ub2xpbmsuZXhlYyhzcmMpKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIGxpbmsgPSAoY2FwWzJdIHx8IGNhcFsxXSkucmVwbGFjZSgvXFxzKy9nLCAnICcpO1xuICAgICAgbGluayA9IHRoaXMubGlua3NbbGluay50b0xvd2VyQ2FzZSgpXTtcbiAgICAgIGlmICghbGluayB8fCAhbGluay5ocmVmKSB7XG4gICAgICAgIG91dCArPSBjYXBbMF0uY2hhckF0KDApO1xuICAgICAgICBzcmMgPSBjYXBbMF0uc3Vic3RyaW5nKDEpICsgc3JjO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuaW5MaW5rID0gdHJ1ZTtcbiAgICAgIG91dCArPSB0aGlzLm91dHB1dExpbmsoY2FwLCBsaW5rKTtcbiAgICAgIHRoaXMuaW5MaW5rID0gZmFsc2U7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBzdHJvbmdcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5zdHJvbmcuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIuc3Ryb25nKHRoaXMub3V0cHV0KGNhcFsyXSB8fCBjYXBbMV0pKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGVtXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuZW0uZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIuZW0odGhpcy5vdXRwdXQoY2FwWzJdIHx8IGNhcFsxXSkpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gY29kZVxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmNvZGUuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIuY29kZXNwYW4oZXNjYXBlKGNhcFsyXS50cmltKCksIHRydWUpKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGJyXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuYnIuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIuYnIoKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGRlbCAoZ2ZtKVxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmRlbC5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5kZWwodGhpcy5vdXRwdXQoY2FwWzFdKSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyB0ZXh0XG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMudGV4dC5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci50ZXh0KGVzY2FwZSh0aGlzLnNtYXJ0eXBhbnRzKGNhcFswXSkpKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChzcmMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW5maW5pdGUgbG9vcCBvbiBieXRlOiAnICsgc3JjLmNoYXJDb2RlQXQoMCkpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59O1xuXG4vKipcbiAqIENvbXBpbGUgTGlua1xuICovXG5cbklubGluZUxleGVyLnByb3RvdHlwZS5vdXRwdXRMaW5rID0gZnVuY3Rpb24oY2FwLCBsaW5rKSB7XG4gIHZhciBocmVmID0gZXNjYXBlKGxpbmsuaHJlZiksXG4gICAgICB0aXRsZSA9IGxpbmsudGl0bGUgPyBlc2NhcGUobGluay50aXRsZSkgOiBudWxsO1xuXG4gIHJldHVybiBjYXBbMF0uY2hhckF0KDApICE9PSAnISdcbiAgICA/IHRoaXMucmVuZGVyZXIubGluayhocmVmLCB0aXRsZSwgdGhpcy5vdXRwdXQoY2FwWzFdKSlcbiAgICA6IHRoaXMucmVuZGVyZXIuaW1hZ2UoaHJlZiwgdGl0bGUsIGVzY2FwZShjYXBbMV0pKTtcbn07XG5cbi8qKlxuICogU21hcnR5cGFudHMgVHJhbnNmb3JtYXRpb25zXG4gKi9cblxuSW5saW5lTGV4ZXIucHJvdG90eXBlLnNtYXJ0eXBhbnRzID0gZnVuY3Rpb24odGV4dCkge1xuICBpZiAoIXRoaXMub3B0aW9ucy5zbWFydHlwYW50cykgcmV0dXJuIHRleHQ7XG4gIHJldHVybiB0ZXh0XG4gICAgLy8gZW0tZGFzaGVzXG4gICAgLnJlcGxhY2UoLy0tLS9nLCAnXFx1MjAxNCcpXG4gICAgLy8gZW4tZGFzaGVzXG4gICAgLnJlcGxhY2UoLy0tL2csICdcXHUyMDEzJylcbiAgICAvLyBvcGVuaW5nIHNpbmdsZXNcbiAgICAucmVwbGFjZSgvKF58Wy1cXHUyMDE0LyhcXFt7XCJcXHNdKScvZywgJyQxXFx1MjAxOCcpXG4gICAgLy8gY2xvc2luZyBzaW5nbGVzICYgYXBvc3Ryb3BoZXNcbiAgICAucmVwbGFjZSgvJy9nLCAnXFx1MjAxOScpXG4gICAgLy8gb3BlbmluZyBkb3VibGVzXG4gICAgLnJlcGxhY2UoLyhefFstXFx1MjAxNC8oXFxbe1xcdTIwMThcXHNdKVwiL2csICckMVxcdTIwMWMnKVxuICAgIC8vIGNsb3NpbmcgZG91Ymxlc1xuICAgIC5yZXBsYWNlKC9cIi9nLCAnXFx1MjAxZCcpXG4gICAgLy8gZWxsaXBzZXNcbiAgICAucmVwbGFjZSgvXFwuezN9L2csICdcXHUyMDI2Jyk7XG59O1xuXG4vKipcbiAqIE1hbmdsZSBMaW5rc1xuICovXG5cbklubGluZUxleGVyLnByb3RvdHlwZS5tYW5nbGUgPSBmdW5jdGlvbih0ZXh0KSB7XG4gIGlmICghdGhpcy5vcHRpb25zLm1hbmdsZSkgcmV0dXJuIHRleHQ7XG4gIHZhciBvdXQgPSAnJyxcbiAgICAgIGwgPSB0ZXh0Lmxlbmd0aCxcbiAgICAgIGkgPSAwLFxuICAgICAgY2g7XG5cbiAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICBjaCA9IHRleHQuY2hhckNvZGVBdChpKTtcbiAgICBpZiAoTWF0aC5yYW5kb20oKSA+IDAuNSkge1xuICAgICAgY2ggPSAneCcgKyBjaC50b1N0cmluZygxNik7XG4gICAgfVxuICAgIG91dCArPSAnJiMnICsgY2ggKyAnOyc7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufTtcblxuLyoqXG4gKiBSZW5kZXJlclxuICovXG5cbmZ1bmN0aW9uIFJlbmRlcmVyKG9wdGlvbnMpIHtcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbn1cblxuUmVuZGVyZXIucHJvdG90eXBlLmNvZGUgPSBmdW5jdGlvbihjb2RlLCBsYW5nLCBlc2NhcGVkKSB7XG4gIGlmICh0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0KSB7XG4gICAgdmFyIG91dCA9IHRoaXMub3B0aW9ucy5oaWdobGlnaHQoY29kZSwgbGFuZyk7XG4gICAgaWYgKG91dCAhPSBudWxsICYmIG91dCAhPT0gY29kZSkge1xuICAgICAgZXNjYXBlZCA9IHRydWU7XG4gICAgICBjb2RlID0gb3V0O1xuICAgIH1cbiAgfVxuXG4gIGlmICghbGFuZykge1xuICAgIHJldHVybiAnPHByZT48Y29kZT4nXG4gICAgICArIChlc2NhcGVkID8gY29kZSA6IGVzY2FwZShjb2RlLCB0cnVlKSlcbiAgICAgICsgJ1xcbjwvY29kZT48L3ByZT4nO1xuICB9XG5cbiAgcmV0dXJuICc8cHJlPjxjb2RlIGNsYXNzPVwiJ1xuICAgICsgdGhpcy5vcHRpb25zLmxhbmdQcmVmaXhcbiAgICArIGVzY2FwZShsYW5nLCB0cnVlKVxuICAgICsgJ1wiPidcbiAgICArIChlc2NhcGVkID8gY29kZSA6IGVzY2FwZShjb2RlLCB0cnVlKSlcbiAgICArICdcXG48L2NvZGU+PC9wcmU+XFxuJztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS5ibG9ja3F1b3RlID0gZnVuY3Rpb24ocXVvdGUpIHtcbiAgcmV0dXJuICc8YmxvY2txdW90ZT5cXG4nICsgcXVvdGUgKyAnPC9ibG9ja3F1b3RlPlxcbic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUuaHRtbCA9IGZ1bmN0aW9uKGh0bWwpIHtcbiAgcmV0dXJuIGh0bWw7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUuaGVhZGluZyA9IGZ1bmN0aW9uKHRleHQsIGxldmVsLCByYXcpIHtcbiAgcmV0dXJuICc8aCdcbiAgICArIGxldmVsXG4gICAgKyAnIGlkPVwiJ1xuICAgICsgdGhpcy5vcHRpb25zLmhlYWRlclByZWZpeFxuICAgICsgcmF3LnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvW15cXHddKy9nLCAnLScpXG4gICAgKyAnXCI+J1xuICAgICsgdGV4dFxuICAgICsgJzwvaCdcbiAgICArIGxldmVsXG4gICAgKyAnPlxcbic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUuaHIgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMub3B0aW9ucy54aHRtbCA/ICc8aHIvPlxcbicgOiAnPGhyPlxcbic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUubGlzdCA9IGZ1bmN0aW9uKGJvZHksIG9yZGVyZWQsIHN0YXJ0KSB7XG4gIHZhciB0eXBlID0gb3JkZXJlZCA/ICdvbCcgOiAndWwnLFxuICAgICAgc3RhcnRhdHQgPSAob3JkZXJlZCAmJiBzdGFydCAhPT0gMSkgPyAoJyBzdGFydD1cIicgKyBzdGFydCArICdcIicpIDogJyc7XG4gIHJldHVybiAnPCcgKyB0eXBlICsgc3RhcnRhdHQgKyAnPlxcbicgKyBib2R5ICsgJzwvJyArIHR5cGUgKyAnPlxcbic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUubGlzdGl0ZW0gPSBmdW5jdGlvbih0ZXh0KSB7XG4gIHJldHVybiAnPGxpPicgKyB0ZXh0ICsgJzwvbGk+XFxuJztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS5wYXJhZ3JhcGggPSBmdW5jdGlvbih0ZXh0KSB7XG4gIHJldHVybiAnPHA+JyArIHRleHQgKyAnPC9wPlxcbic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUudGFibGUgPSBmdW5jdGlvbihoZWFkZXIsIGJvZHkpIHtcbiAgcmV0dXJuICc8dGFibGU+XFxuJ1xuICAgICsgJzx0aGVhZD5cXG4nXG4gICAgKyBoZWFkZXJcbiAgICArICc8L3RoZWFkPlxcbidcbiAgICArICc8dGJvZHk+XFxuJ1xuICAgICsgYm9keVxuICAgICsgJzwvdGJvZHk+XFxuJ1xuICAgICsgJzwvdGFibGU+XFxuJztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS50YWJsZXJvdyA9IGZ1bmN0aW9uKGNvbnRlbnQpIHtcbiAgcmV0dXJuICc8dHI+XFxuJyArIGNvbnRlbnQgKyAnPC90cj5cXG4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLnRhYmxlY2VsbCA9IGZ1bmN0aW9uKGNvbnRlbnQsIGZsYWdzKSB7XG4gIHZhciB0eXBlID0gZmxhZ3MuaGVhZGVyID8gJ3RoJyA6ICd0ZCc7XG4gIHZhciB0YWcgPSBmbGFncy5hbGlnblxuICAgID8gJzwnICsgdHlwZSArICcgc3R5bGU9XCJ0ZXh0LWFsaWduOicgKyBmbGFncy5hbGlnbiArICdcIj4nXG4gICAgOiAnPCcgKyB0eXBlICsgJz4nO1xuICByZXR1cm4gdGFnICsgY29udGVudCArICc8LycgKyB0eXBlICsgJz5cXG4nO1xufTtcblxuLy8gc3BhbiBsZXZlbCByZW5kZXJlclxuUmVuZGVyZXIucHJvdG90eXBlLnN0cm9uZyA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgcmV0dXJuICc8c3Ryb25nPicgKyB0ZXh0ICsgJzwvc3Ryb25nPic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUuZW0gPSBmdW5jdGlvbih0ZXh0KSB7XG4gIHJldHVybiAnPGVtPicgKyB0ZXh0ICsgJzwvZW0+Jztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS5jb2Rlc3BhbiA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgcmV0dXJuICc8Y29kZT4nICsgdGV4dCArICc8L2NvZGU+Jztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS5iciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5vcHRpb25zLnhodG1sID8gJzxici8+JyA6ICc8YnI+Jztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS5kZWwgPSBmdW5jdGlvbih0ZXh0KSB7XG4gIHJldHVybiAnPGRlbD4nICsgdGV4dCArICc8L2RlbD4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmxpbmsgPSBmdW5jdGlvbihocmVmLCB0aXRsZSwgdGV4dCkge1xuICBpZiAodGhpcy5vcHRpb25zLnNhbml0aXplKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBwcm90ID0gZGVjb2RlVVJJQ29tcG9uZW50KHVuZXNjYXBlKGhyZWYpKVxuICAgICAgICAucmVwbGFjZSgvW15cXHc6XS9nLCAnJylcbiAgICAgICAgLnRvTG93ZXJDYXNlKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfVxuICAgIGlmIChwcm90LmluZGV4T2YoJ2phdmFzY3JpcHQ6JykgPT09IDAgfHwgcHJvdC5pbmRleE9mKCd2YnNjcmlwdDonKSA9PT0gMCB8fCBwcm90LmluZGV4T2YoJ2RhdGE6JykgPT09IDApIHtcbiAgICAgIHJldHVybiB0ZXh0O1xuICAgIH1cbiAgfVxuICBpZiAodGhpcy5vcHRpb25zLmJhc2VVcmwgJiYgIW9yaWdpbkluZGVwZW5kZW50VXJsLnRlc3QoaHJlZikpIHtcbiAgICBocmVmID0gcmVzb2x2ZVVybCh0aGlzLm9wdGlvbnMuYmFzZVVybCwgaHJlZik7XG4gIH1cbiAgdmFyIG91dCA9ICc8YSBocmVmPVwiJyArIGhyZWYgKyAnXCInO1xuICBpZiAodGl0bGUpIHtcbiAgICBvdXQgKz0gJyB0aXRsZT1cIicgKyB0aXRsZSArICdcIic7XG4gIH1cbiAgb3V0ICs9ICc+JyArIHRleHQgKyAnPC9hPic7XG4gIHJldHVybiBvdXQ7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUuaW1hZ2UgPSBmdW5jdGlvbihocmVmLCB0aXRsZSwgdGV4dCkge1xuICBpZiAodGhpcy5vcHRpb25zLmJhc2VVcmwgJiYgIW9yaWdpbkluZGVwZW5kZW50VXJsLnRlc3QoaHJlZikpIHtcbiAgICBocmVmID0gcmVzb2x2ZVVybCh0aGlzLm9wdGlvbnMuYmFzZVVybCwgaHJlZik7XG4gIH1cbiAgdmFyIG91dCA9ICc8aW1nIHNyYz1cIicgKyBocmVmICsgJ1wiIGFsdD1cIicgKyB0ZXh0ICsgJ1wiJztcbiAgaWYgKHRpdGxlKSB7XG4gICAgb3V0ICs9ICcgdGl0bGU9XCInICsgdGl0bGUgKyAnXCInO1xuICB9XG4gIG91dCArPSB0aGlzLm9wdGlvbnMueGh0bWwgPyAnLz4nIDogJz4nO1xuICByZXR1cm4gb3V0O1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLnRleHQgPSBmdW5jdGlvbih0ZXh0KSB7XG4gIHJldHVybiB0ZXh0O1xufTtcblxuLyoqXG4gKiBUZXh0UmVuZGVyZXJcbiAqIHJldHVybnMgb25seSB0aGUgdGV4dHVhbCBwYXJ0IG9mIHRoZSB0b2tlblxuICovXG5cbmZ1bmN0aW9uIFRleHRSZW5kZXJlcigpIHt9XG5cbi8vIG5vIG5lZWQgZm9yIGJsb2NrIGxldmVsIHJlbmRlcmVyc1xuXG5UZXh0UmVuZGVyZXIucHJvdG90eXBlLnN0cm9uZyA9XG5UZXh0UmVuZGVyZXIucHJvdG90eXBlLmVtID1cblRleHRSZW5kZXJlci5wcm90b3R5cGUuY29kZXNwYW4gPVxuVGV4dFJlbmRlcmVyLnByb3RvdHlwZS5kZWwgPVxuVGV4dFJlbmRlcmVyLnByb3RvdHlwZS50ZXh0ID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgcmV0dXJuIHRleHQ7XG59XG5cblRleHRSZW5kZXJlci5wcm90b3R5cGUubGluayA9XG5UZXh0UmVuZGVyZXIucHJvdG90eXBlLmltYWdlID0gZnVuY3Rpb24oaHJlZiwgdGl0bGUsIHRleHQpIHtcbiAgcmV0dXJuICcnICsgdGV4dDtcbn1cblxuVGV4dFJlbmRlcmVyLnByb3RvdHlwZS5iciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogUGFyc2luZyAmIENvbXBpbGluZ1xuICovXG5cbmZ1bmN0aW9uIFBhcnNlcihvcHRpb25zKSB7XG4gIHRoaXMudG9rZW5zID0gW107XG4gIHRoaXMudG9rZW4gPSBudWxsO1xuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IG1hcmtlZC5kZWZhdWx0cztcbiAgdGhpcy5vcHRpb25zLnJlbmRlcmVyID0gdGhpcy5vcHRpb25zLnJlbmRlcmVyIHx8IG5ldyBSZW5kZXJlcigpO1xuICB0aGlzLnJlbmRlcmVyID0gdGhpcy5vcHRpb25zLnJlbmRlcmVyO1xuICB0aGlzLnJlbmRlcmVyLm9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG59XG5cbi8qKlxuICogU3RhdGljIFBhcnNlIE1ldGhvZFxuICovXG5cblBhcnNlci5wYXJzZSA9IGZ1bmN0aW9uKHNyYywgb3B0aW9ucykge1xuICB2YXIgcGFyc2VyID0gbmV3IFBhcnNlcihvcHRpb25zKTtcbiAgcmV0dXJuIHBhcnNlci5wYXJzZShzcmMpO1xufTtcblxuLyoqXG4gKiBQYXJzZSBMb29wXG4gKi9cblxuUGFyc2VyLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uKHNyYykge1xuICB0aGlzLmlubGluZSA9IG5ldyBJbmxpbmVMZXhlcihzcmMubGlua3MsIHRoaXMub3B0aW9ucyk7XG4gIC8vIHVzZSBhbiBJbmxpbmVMZXhlciB3aXRoIGEgVGV4dFJlbmRlcmVyIHRvIGV4dHJhY3QgcHVyZSB0ZXh0XG4gIHRoaXMuaW5saW5lVGV4dCA9IG5ldyBJbmxpbmVMZXhlcihcbiAgICBzcmMubGlua3MsXG4gICAgbWVyZ2Uoe30sIHRoaXMub3B0aW9ucywge3JlbmRlcmVyOiBuZXcgVGV4dFJlbmRlcmVyKCl9KVxuICApO1xuICB0aGlzLnRva2VucyA9IHNyYy5yZXZlcnNlKCk7XG5cbiAgdmFyIG91dCA9ICcnO1xuICB3aGlsZSAodGhpcy5uZXh0KCkpIHtcbiAgICBvdXQgKz0gdGhpcy50b2soKTtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59O1xuXG4vKipcbiAqIE5leHQgVG9rZW5cbiAqL1xuXG5QYXJzZXIucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMudG9rZW4gPSB0aGlzLnRva2Vucy5wb3AoKTtcbn07XG5cbi8qKlxuICogUHJldmlldyBOZXh0IFRva2VuXG4gKi9cblxuUGFyc2VyLnByb3RvdHlwZS5wZWVrID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnRva2Vuc1t0aGlzLnRva2Vucy5sZW5ndGggLSAxXSB8fCAwO1xufTtcblxuLyoqXG4gKiBQYXJzZSBUZXh0IFRva2Vuc1xuICovXG5cblBhcnNlci5wcm90b3R5cGUucGFyc2VUZXh0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBib2R5ID0gdGhpcy50b2tlbi50ZXh0O1xuXG4gIHdoaWxlICh0aGlzLnBlZWsoKS50eXBlID09PSAndGV4dCcpIHtcbiAgICBib2R5ICs9ICdcXG4nICsgdGhpcy5uZXh0KCkudGV4dDtcbiAgfVxuXG4gIHJldHVybiB0aGlzLmlubGluZS5vdXRwdXQoYm9keSk7XG59O1xuXG4vKipcbiAqIFBhcnNlIEN1cnJlbnQgVG9rZW5cbiAqL1xuXG5QYXJzZXIucHJvdG90eXBlLnRvayA9IGZ1bmN0aW9uKCkge1xuICBzd2l0Y2ggKHRoaXMudG9rZW4udHlwZSkge1xuICAgIGNhc2UgJ3NwYWNlJzoge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBjYXNlICdocic6IHtcbiAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmhyKCk7XG4gICAgfVxuICAgIGNhc2UgJ2hlYWRpbmcnOiB7XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5oZWFkaW5nKFxuICAgICAgICB0aGlzLmlubGluZS5vdXRwdXQodGhpcy50b2tlbi50ZXh0KSxcbiAgICAgICAgdGhpcy50b2tlbi5kZXB0aCxcbiAgICAgICAgdW5lc2NhcGUodGhpcy5pbmxpbmVUZXh0Lm91dHB1dCh0aGlzLnRva2VuLnRleHQpKSk7XG4gICAgfVxuICAgIGNhc2UgJ2NvZGUnOiB7XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5jb2RlKHRoaXMudG9rZW4udGV4dCxcbiAgICAgICAgdGhpcy50b2tlbi5sYW5nLFxuICAgICAgICB0aGlzLnRva2VuLmVzY2FwZWQpO1xuICAgIH1cbiAgICBjYXNlICd0YWJsZSc6IHtcbiAgICAgIHZhciBoZWFkZXIgPSAnJyxcbiAgICAgICAgICBib2R5ID0gJycsXG4gICAgICAgICAgaSxcbiAgICAgICAgICByb3csXG4gICAgICAgICAgY2VsbCxcbiAgICAgICAgICBqO1xuXG4gICAgICAvLyBoZWFkZXJcbiAgICAgIGNlbGwgPSAnJztcbiAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLnRva2VuLmhlYWRlci5sZW5ndGg7IGkrKykge1xuICAgICAgICBjZWxsICs9IHRoaXMucmVuZGVyZXIudGFibGVjZWxsKFxuICAgICAgICAgIHRoaXMuaW5saW5lLm91dHB1dCh0aGlzLnRva2VuLmhlYWRlcltpXSksXG4gICAgICAgICAgeyBoZWFkZXI6IHRydWUsIGFsaWduOiB0aGlzLnRva2VuLmFsaWduW2ldIH1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGhlYWRlciArPSB0aGlzLnJlbmRlcmVyLnRhYmxlcm93KGNlbGwpO1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy50b2tlbi5jZWxscy5sZW5ndGg7IGkrKykge1xuICAgICAgICByb3cgPSB0aGlzLnRva2VuLmNlbGxzW2ldO1xuXG4gICAgICAgIGNlbGwgPSAnJztcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IHJvdy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIGNlbGwgKz0gdGhpcy5yZW5kZXJlci50YWJsZWNlbGwoXG4gICAgICAgICAgICB0aGlzLmlubGluZS5vdXRwdXQocm93W2pdKSxcbiAgICAgICAgICAgIHsgaGVhZGVyOiBmYWxzZSwgYWxpZ246IHRoaXMudG9rZW4uYWxpZ25bal0gfVxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBib2R5ICs9IHRoaXMucmVuZGVyZXIudGFibGVyb3coY2VsbCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci50YWJsZShoZWFkZXIsIGJvZHkpO1xuICAgIH1cbiAgICBjYXNlICdibG9ja3F1b3RlX3N0YXJ0Jzoge1xuICAgICAgYm9keSA9ICcnO1xuXG4gICAgICB3aGlsZSAodGhpcy5uZXh0KCkudHlwZSAhPT0gJ2Jsb2NrcXVvdGVfZW5kJykge1xuICAgICAgICBib2R5ICs9IHRoaXMudG9rKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmJsb2NrcXVvdGUoYm9keSk7XG4gICAgfVxuICAgIGNhc2UgJ2xpc3Rfc3RhcnQnOiB7XG4gICAgICBib2R5ID0gJyc7XG4gICAgICB2YXIgb3JkZXJlZCA9IHRoaXMudG9rZW4ub3JkZXJlZCxcbiAgICAgICAgICBzdGFydCA9IHRoaXMudG9rZW4uc3RhcnQ7XG5cbiAgICAgIHdoaWxlICh0aGlzLm5leHQoKS50eXBlICE9PSAnbGlzdF9lbmQnKSB7XG4gICAgICAgIGJvZHkgKz0gdGhpcy50b2soKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIubGlzdChib2R5LCBvcmRlcmVkLCBzdGFydCk7XG4gICAgfVxuICAgIGNhc2UgJ2xpc3RfaXRlbV9zdGFydCc6IHtcbiAgICAgIGJvZHkgPSAnJztcblxuICAgICAgd2hpbGUgKHRoaXMubmV4dCgpLnR5cGUgIT09ICdsaXN0X2l0ZW1fZW5kJykge1xuICAgICAgICBib2R5ICs9IHRoaXMudG9rZW4udHlwZSA9PT0gJ3RleHQnXG4gICAgICAgICAgPyB0aGlzLnBhcnNlVGV4dCgpXG4gICAgICAgICAgOiB0aGlzLnRvaygpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5saXN0aXRlbShib2R5KTtcbiAgICB9XG4gICAgY2FzZSAnbG9vc2VfaXRlbV9zdGFydCc6IHtcbiAgICAgIGJvZHkgPSAnJztcblxuICAgICAgd2hpbGUgKHRoaXMubmV4dCgpLnR5cGUgIT09ICdsaXN0X2l0ZW1fZW5kJykge1xuICAgICAgICBib2R5ICs9IHRoaXMudG9rKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmxpc3RpdGVtKGJvZHkpO1xuICAgIH1cbiAgICBjYXNlICdodG1sJzoge1xuICAgICAgdmFyIGh0bWwgPSAhdGhpcy50b2tlbi5wcmUgJiYgIXRoaXMub3B0aW9ucy5wZWRhbnRpY1xuICAgICAgICA/IHRoaXMuaW5saW5lLm91dHB1dCh0aGlzLnRva2VuLnRleHQpXG4gICAgICAgIDogdGhpcy50b2tlbi50ZXh0O1xuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuaHRtbChodG1sKTtcbiAgICB9XG4gICAgY2FzZSAncGFyYWdyYXBoJzoge1xuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIucGFyYWdyYXBoKHRoaXMuaW5saW5lLm91dHB1dCh0aGlzLnRva2VuLnRleHQpKTtcbiAgICB9XG4gICAgY2FzZSAndGV4dCc6IHtcbiAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLnBhcmFncmFwaCh0aGlzLnBhcnNlVGV4dCgpKTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogSGVscGVyc1xuICovXG5cbmZ1bmN0aW9uIGVzY2FwZShodG1sLCBlbmNvZGUpIHtcbiAgcmV0dXJuIGh0bWxcbiAgICAucmVwbGFjZSghZW5jb2RlID8gLyYoPyEjP1xcdys7KS9nIDogLyYvZywgJyZhbXA7JylcbiAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXG4gICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKVxuICAgIC5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7JylcbiAgICAucmVwbGFjZSgvJy9nLCAnJiMzOTsnKTtcbn1cblxuZnVuY3Rpb24gdW5lc2NhcGUoaHRtbCkge1xuICAvLyBleHBsaWNpdGx5IG1hdGNoIGRlY2ltYWwsIGhleCwgYW5kIG5hbWVkIEhUTUwgZW50aXRpZXNcbiAgcmV0dXJuIGh0bWwucmVwbGFjZSgvJigjKD86XFxkKyl8KD86I3hbMC05QS1GYS1mXSspfCg/OlxcdyspKTs/L2lnLCBmdW5jdGlvbihfLCBuKSB7XG4gICAgbiA9IG4udG9Mb3dlckNhc2UoKTtcbiAgICBpZiAobiA9PT0gJ2NvbG9uJykgcmV0dXJuICc6JztcbiAgICBpZiAobi5jaGFyQXQoMCkgPT09ICcjJykge1xuICAgICAgcmV0dXJuIG4uY2hhckF0KDEpID09PSAneCdcbiAgICAgICAgPyBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KG4uc3Vic3RyaW5nKDIpLCAxNikpXG4gICAgICAgIDogU3RyaW5nLmZyb21DaGFyQ29kZSgrbi5zdWJzdHJpbmcoMSkpO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBlZGl0KHJlZ2V4LCBvcHQpIHtcbiAgcmVnZXggPSByZWdleC5zb3VyY2U7XG4gIG9wdCA9IG9wdCB8fCAnJztcbiAgcmV0dXJuIHtcbiAgICByZXBsYWNlOiBmdW5jdGlvbihuYW1lLCB2YWwpIHtcbiAgICAgIHZhbCA9IHZhbC5zb3VyY2UgfHwgdmFsO1xuICAgICAgdmFsID0gdmFsLnJlcGxhY2UoLyhefFteXFxbXSlcXF4vZywgJyQxJyk7XG4gICAgICByZWdleCA9IHJlZ2V4LnJlcGxhY2UobmFtZSwgdmFsKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgZ2V0UmVnZXg6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ldyBSZWdFeHAocmVnZXgsIG9wdCk7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiByZXNvbHZlVXJsKGJhc2UsIGhyZWYpIHtcbiAgaWYgKCFiYXNlVXJsc1snICcgKyBiYXNlXSkge1xuICAgIC8vIHdlIGNhbiBpZ25vcmUgZXZlcnl0aGluZyBpbiBiYXNlIGFmdGVyIHRoZSBsYXN0IHNsYXNoIG9mIGl0cyBwYXRoIGNvbXBvbmVudCxcbiAgICAvLyBidXQgd2UgbWlnaHQgbmVlZCB0byBhZGQgX3RoYXRfXG4gICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODYjc2VjdGlvbi0zXG4gICAgaWYgKC9eW146XSs6XFwvKlteL10qJC8udGVzdChiYXNlKSkge1xuICAgICAgYmFzZVVybHNbJyAnICsgYmFzZV0gPSBiYXNlICsgJy8nO1xuICAgIH0gZWxzZSB7XG4gICAgICBiYXNlVXJsc1snICcgKyBiYXNlXSA9IGJhc2UucmVwbGFjZSgvW14vXSokLywgJycpO1xuICAgIH1cbiAgfVxuICBiYXNlID0gYmFzZVVybHNbJyAnICsgYmFzZV07XG5cbiAgaWYgKGhyZWYuc2xpY2UoMCwgMikgPT09ICcvLycpIHtcbiAgICByZXR1cm4gYmFzZS5yZXBsYWNlKC86W1xcc1xcU10qLywgJzonKSArIGhyZWY7XG4gIH0gZWxzZSBpZiAoaHJlZi5jaGFyQXQoMCkgPT09ICcvJykge1xuICAgIHJldHVybiBiYXNlLnJlcGxhY2UoLyg6XFwvKlteL10qKVtcXHNcXFNdKi8sICckMScpICsgaHJlZjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYmFzZSArIGhyZWY7XG4gIH1cbn1cbnZhciBiYXNlVXJscyA9IHt9O1xudmFyIG9yaWdpbkluZGVwZW5kZW50VXJsID0gL14kfF5bYS16XVthLXowLTkrLi1dKjp8Xls/I10vaTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5ub29wLmV4ZWMgPSBub29wO1xuXG5mdW5jdGlvbiBtZXJnZShvYmopIHtcbiAgdmFyIGkgPSAxLFxuICAgICAgdGFyZ2V0LFxuICAgICAga2V5O1xuXG4gIGZvciAoOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdGFyZ2V0ID0gYXJndW1lbnRzW2ldO1xuICAgIGZvciAoa2V5IGluIHRhcmdldCkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0YXJnZXQsIGtleSkpIHtcbiAgICAgICAgb2JqW2tleV0gPSB0YXJnZXRba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG4vKipcbiAqIE1hcmtlZFxuICovXG5cbmZ1bmN0aW9uIG1hcmtlZChzcmMsIG9wdCwgY2FsbGJhY2spIHtcbiAgLy8gdGhyb3cgZXJyb3IgaW4gY2FzZSBvZiBub24gc3RyaW5nIGlucHV0XG4gIGlmICh0eXBlb2Ygc3JjID09PSAndW5kZWZpbmVkJyB8fCBzcmMgPT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ21hcmtlZCgpOiBpbnB1dCBwYXJhbWV0ZXIgaXMgdW5kZWZpbmVkIG9yIG51bGwnKTtcbiAgfVxuICBpZiAodHlwZW9mIHNyYyAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ21hcmtlZCgpOiBpbnB1dCBwYXJhbWV0ZXIgaXMgb2YgdHlwZSAnXG4gICAgICArIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzcmMpICsgJywgc3RyaW5nIGV4cGVjdGVkJyk7XG4gIH1cblxuICBpZiAoY2FsbGJhY2sgfHwgdHlwZW9mIG9wdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGlmICghY2FsbGJhY2spIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0O1xuICAgICAgb3B0ID0gbnVsbDtcbiAgICB9XG5cbiAgICBvcHQgPSBtZXJnZSh7fSwgbWFya2VkLmRlZmF1bHRzLCBvcHQgfHwge30pO1xuXG4gICAgdmFyIGhpZ2hsaWdodCA9IG9wdC5oaWdobGlnaHQsXG4gICAgICAgIHRva2VucyxcbiAgICAgICAgcGVuZGluZyxcbiAgICAgICAgaSA9IDA7XG5cbiAgICB0cnkge1xuICAgICAgdG9rZW5zID0gTGV4ZXIubGV4KHNyYywgb3B0KVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhlKTtcbiAgICB9XG5cbiAgICBwZW5kaW5nID0gdG9rZW5zLmxlbmd0aDtcblxuICAgIHZhciBkb25lID0gZnVuY3Rpb24oZXJyKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIG9wdC5oaWdobGlnaHQgPSBoaWdobGlnaHQ7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgfVxuXG4gICAgICB2YXIgb3V0O1xuXG4gICAgICB0cnkge1xuICAgICAgICBvdXQgPSBQYXJzZXIucGFyc2UodG9rZW5zLCBvcHQpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBlcnIgPSBlO1xuICAgICAgfVxuXG4gICAgICBvcHQuaGlnaGxpZ2h0ID0gaGlnaGxpZ2h0O1xuXG4gICAgICByZXR1cm4gZXJyXG4gICAgICAgID8gY2FsbGJhY2soZXJyKVxuICAgICAgICA6IGNhbGxiYWNrKG51bGwsIG91dCk7XG4gICAgfTtcblxuICAgIGlmICghaGlnaGxpZ2h0IHx8IGhpZ2hsaWdodC5sZW5ndGggPCAzKSB7XG4gICAgICByZXR1cm4gZG9uZSgpO1xuICAgIH1cblxuICAgIGRlbGV0ZSBvcHQuaGlnaGxpZ2h0O1xuXG4gICAgaWYgKCFwZW5kaW5nKSByZXR1cm4gZG9uZSgpO1xuXG4gICAgZm9yICg7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIChmdW5jdGlvbih0b2tlbikge1xuICAgICAgICBpZiAodG9rZW4udHlwZSAhPT0gJ2NvZGUnKSB7XG4gICAgICAgICAgcmV0dXJuIC0tcGVuZGluZyB8fCBkb25lKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhpZ2hsaWdodCh0b2tlbi50ZXh0LCB0b2tlbi5sYW5nLCBmdW5jdGlvbihlcnIsIGNvZGUpIHtcbiAgICAgICAgICBpZiAoZXJyKSByZXR1cm4gZG9uZShlcnIpO1xuICAgICAgICAgIGlmIChjb2RlID09IG51bGwgfHwgY29kZSA9PT0gdG9rZW4udGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIC0tcGVuZGluZyB8fCBkb25lKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRva2VuLnRleHQgPSBjb2RlO1xuICAgICAgICAgIHRva2VuLmVzY2FwZWQgPSB0cnVlO1xuICAgICAgICAgIC0tcGVuZGluZyB8fCBkb25lKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSkodG9rZW5zW2ldKTtcbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH1cbiAgdHJ5IHtcbiAgICBpZiAob3B0KSBvcHQgPSBtZXJnZSh7fSwgbWFya2VkLmRlZmF1bHRzLCBvcHQpO1xuICAgIHJldHVybiBQYXJzZXIucGFyc2UoTGV4ZXIubGV4KHNyYywgb3B0KSwgb3B0KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGUubWVzc2FnZSArPSAnXFxuUGxlYXNlIHJlcG9ydCB0aGlzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9tYXJrZWRqcy9tYXJrZWQuJztcbiAgICBpZiAoKG9wdCB8fCBtYXJrZWQuZGVmYXVsdHMpLnNpbGVudCkge1xuICAgICAgcmV0dXJuICc8cD5BbiBlcnJvciBvY2N1cnJlZDo8L3A+PHByZT4nXG4gICAgICAgICsgZXNjYXBlKGUubWVzc2FnZSArICcnLCB0cnVlKVxuICAgICAgICArICc8L3ByZT4nO1xuICAgIH1cbiAgICB0aHJvdyBlO1xuICB9XG59XG5cbi8qKlxuICogT3B0aW9uc1xuICovXG5cbm1hcmtlZC5vcHRpb25zID1cbm1hcmtlZC5zZXRPcHRpb25zID0gZnVuY3Rpb24ob3B0KSB7XG4gIG1lcmdlKG1hcmtlZC5kZWZhdWx0cywgb3B0KTtcbiAgcmV0dXJuIG1hcmtlZDtcbn07XG5cbm1hcmtlZC5kZWZhdWx0cyA9IHtcbiAgZ2ZtOiB0cnVlLFxuICB0YWJsZXM6IHRydWUsXG4gIGJyZWFrczogZmFsc2UsXG4gIHBlZGFudGljOiBmYWxzZSxcbiAgc2FuaXRpemU6IGZhbHNlLFxuICBzYW5pdGl6ZXI6IG51bGwsXG4gIG1hbmdsZTogdHJ1ZSxcbiAgc21hcnRMaXN0czogZmFsc2UsXG4gIHNpbGVudDogZmFsc2UsXG4gIGhpZ2hsaWdodDogbnVsbCxcbiAgbGFuZ1ByZWZpeDogJ2xhbmctJyxcbiAgc21hcnR5cGFudHM6IGZhbHNlLFxuICBoZWFkZXJQcmVmaXg6ICcnLFxuICByZW5kZXJlcjogbmV3IFJlbmRlcmVyKCksXG4gIHhodG1sOiBmYWxzZSxcbiAgYmFzZVVybDogbnVsbFxufTtcblxuLyoqXG4gKiBFeHBvc2VcbiAqL1xuXG5tYXJrZWQuUGFyc2VyID0gUGFyc2VyO1xubWFya2VkLnBhcnNlciA9IFBhcnNlci5wYXJzZTtcblxubWFya2VkLlJlbmRlcmVyID0gUmVuZGVyZXI7XG5tYXJrZWQuVGV4dFJlbmRlcmVyID0gVGV4dFJlbmRlcmVyO1xuXG5tYXJrZWQuTGV4ZXIgPSBMZXhlcjtcbm1hcmtlZC5sZXhlciA9IExleGVyLmxleDtcblxubWFya2VkLklubGluZUxleGVyID0gSW5saW5lTGV4ZXI7XG5tYXJrZWQuaW5saW5lTGV4ZXIgPSBJbmxpbmVMZXhlci5vdXRwdXQ7XG5cbm1hcmtlZC5wYXJzZSA9IG1hcmtlZDtcblxuaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICBtb2R1bGUuZXhwb3J0cyA9IG1hcmtlZDtcbn0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gIGRlZmluZShmdW5jdGlvbigpIHsgcmV0dXJuIG1hcmtlZDsgfSk7XG59IGVsc2Uge1xuICByb290Lm1hcmtlZCA9IG1hcmtlZDtcbn1cbn0pKHRoaXMgfHwgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogZ2xvYmFsKSk7XG4iLCIvLyBEZWZhdWx0IGltcG9ydCAoaW1wb3J0IGluc3RhbGxlZCBwYWNrYWdlIGxpa2UgdGhpcylcbmltcG9ydCBtYXJrZWQgZnJvbSAnbWFya2VkJztcbi8vIE5hbWVkIGltcG9ydCAoaW1wb3J0IHZhcmlhYmxlcyBmcm9tIG90aGVyIGpzLWZpbGUpXG5pbXBvcnQgeyBpbnB1dCwgb3V0cHV0IH0gZnJvbSAnLi9lbGVtZW50cyc7XG4vLyBJbXBvcnQgYWxsIGluIGVsZW1lbnRzLmpzXG5pbXBvcnQgKiBhcyBlbGVtZW50cyBmcm9tICcuL2VsZW1lbnRzJzsgLy8gJ0FzJyBkw7ZwZXIgb20gKHByb3ZhIHZhciBkZXQgZnVua2FyKVxuLy8gSW1wb3J0IGNzcyBsaWtlIHRoaXNcbmltcG9ydCAnLi9zY3NzL21haW4uc2Nzcyc7XG5cbi8vIE7DpHIgbWFuIGltcG9ydGVyYXQgYWxsdCBmcsOlbiBlbiBmaWxcbmVsZW1lbnRzLmlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZnVuY3Rpb24gbGlzdGVuRm9yS2V5VXAoKXtcbiAgICBvdXRwdXQuaW5uZXJIVE1MID0gbWFya2VkKHRoaXMudmFsdWUpO1xufSk7XG5cbi8vIE7DpHIgbWFuIGltcG9ydGVyYXQgdmlzc2EgdmFyaWFibGVyIGZyw6VuIGVuIGZpbFxuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBmdW5jdGlvbiBsaXN0ZW5Gb3JLZXlVcCgpe1xuICAgIG91dHB1dC5pbm5lckhUTUwgPSBtYXJrZWQodGhpcy52YWx1ZSk7XG59KTtcblxuY29uc3QgY29udmVydGVkID0gbWFya2VkKCcjIEhlbGxvIGgxIFxcbiAjIyBIZWxsbyBoMicpO1xuLy9kb2N1bWVudC5ib2R5LmlubmVySFRNTD0gY29udmVydGVkO1xuLy9jb25zb2xlLmxvZyhjb252ZXJ0ZWQpOyJdLCJzb3VyY2VSb290IjoiIn0=